<!DOCTYPE html>
<html lang="zh-CN">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <title>Docker搭建Rclone-WebGui - 我的全新 Hugo 网站</title><meta name="Description" content="这是我的全新 Hugo 网站"><meta property="og:title" content="Docker搭建Rclone-WebGui" />
<meta property="og:description" content="来源：https://github.com/romancin/rclonebrowser-docker
rclonebrowser-docker A repository for creating a docker container including RClone Browser with GUI interface, based on kapitainsky fork
Thank you for continue developing this awesome software :)
img img Donate
You can invite me a beer if you want ;)
This is a completely funcional Docker image with RClone Browser kapytainskyfork.
Based on Alpine Linux, which provides a very small size.
Tested and working on Synology and QNAP, but should work on any x86_64 devices." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://example.org/docker%E6%90%AD%E5%BB%BArclone-webgui/" /><meta property="article:section" content="posts" />

<meta property="og:site_name" content="我的网站" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Docker搭建Rclone-WebGui"/>
<meta name="twitter:description" content="来源：https://github.com/romancin/rclonebrowser-docker
rclonebrowser-docker A repository for creating a docker container including RClone Browser with GUI interface, based on kapitainsky fork
Thank you for continue developing this awesome software :)
img img Donate
You can invite me a beer if you want ;)
This is a completely funcional Docker image with RClone Browser kapytainskyfork.
Based on Alpine Linux, which provides a very small size.
Tested and working on Synology and QNAP, but should work on any x86_64 devices."/>
<meta name="application-name" content="我的网站">
<meta name="apple-mobile-web-app-title" content="我的网站"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="http://example.org/docker%E6%90%AD%E5%BB%BArclone-webgui/" /><link rel="prev" href="http://example.org/docker%E6%90%AD%E5%BB%BAwebdav%E6%9C%8D%E5%8A%A1/" /><link rel="next" href="http://example.org/docker%E6%90%AD%E5%BB%BAjupyter%E6%9C%8D%E5%8A%A1/" /><link rel="stylesheet" href="/css/style.min.css"><link rel="preload" href="/lib/fontawesome-free/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="/lib/fontawesome-free/all.min.css"></noscript><link rel="preload" href="/lib/animate/animate.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="/lib/animate/animate.min.css"></noscript><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "Docker搭建Rclone-WebGui",
        "inLanguage": "zh-CN",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "http:\/\/example.org\/docker%E6%90%AD%E5%BB%BArclone-webgui\/"
        },"genre": "posts","keywords": "docker","wordcount":  1663 ,
        "url": "http:\/\/example.org\/docker%E6%90%AD%E5%BB%BArclone-webgui\/","publisher": {
            "@type": "Organization",
            "name": ""},"author": {
                "@type": "Person",
                "name": "五彩斑斓的黑"
            },"description": ""
    }
    </script></head>
    <body data-header-desktop="fixed" data-header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('dark' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'dark' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="我的全新 Hugo 网站"></a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/posts/"> 文章 </a><a class="menu-item" href="/tags/"> 标签 </a><a class="menu-item" href="/categories/"> 分类 </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="Search titles or contents..." id="search-input-desktop">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="Search">
                            <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="Clear">
                            <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                        </span>
                    </span><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                    <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
                </a></div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="我的全新 Hugo 网站"></a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="Search titles or contents..." id="search-input-mobile">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="Search">
                            <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="Clear">
                            <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                        </span>
                    </div>
                    <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
                        Cancel
                    </a>
                </div><a class="menu-item" href="/posts/" title="">文章</a><a class="menu-item" href="/tags/" title="">标签</a><a class="menu-item" href="/categories/" title="">分类</a><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
            </a></div>
    </div>
</header><div class="search-dropdown desktop">
        <div id="search-dropdown-desktop"></div>
    </div>
    <div class="search-dropdown mobile">
        <div id="search-dropdown-mobile"></div>
    </div><main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">Contents</h2>
            <div class="toc-content" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">Docker搭建Rclone-WebGui</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="/" title="Author" rel="author" class="author"><i class="fas fa-user-circle fa-fw" aria-hidden="true"></i>五彩斑斓的黑</a></span>&nbsp;<span class="post-category">included in <a href="/categories/docker/"><i class="far fa-folder fa-fw" aria-hidden="true"></i>Docker</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw" aria-hidden="true"></i>&nbsp;<time datetime="0001-01-01">0001-01-01</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden="true"></i>&nbsp;1663 words&nbsp;
                <i class="far fa-clock fa-fw" aria-hidden="true"></i>&nbsp;8 minutes&nbsp;</div>
        </div><div class="details toc" id="toc-static"  data-kept="true">
                <div class="details-summary toc-title">
                    <span>Contents</span>
                    <span><i class="details-icon fas fa-angle-right" aria-hidden="true"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#rclonebrowser-docker">rclonebrowser-docker</a>
      <ul>
        <li>
          <ul>
            <li><a href="#environment-variables">Environment Variables</a></li>
            <li><a href="#data-volumes">Data Volumes</a></li>
            <li><a href="#ports">Ports</a></li>
          </ul>
        </li>
        <li><a href="#usergroup-ids">User/Group IDs</a></li>
        <li><a href="#security">Security</a>
          <ul>
            <li><a href="#certificates">Certificates</a></li>
            <li><a href="#vnc-password">VNC Password</a></li>
          </ul>
        </li>
        <li><a href="#shell-access">Shell Access</a></li>
        <li><a href="#reverse-proxy">Reverse Proxy</a>
          <ul>
            <li><a href="#routing-based-on-hostname">Routing Based on Hostname</a></li>
            <li><a href="#routing-based-on-url-path">Routing Based on URL Path</a></li>
          </ul>
        </li>
        <li><a href="#support-or-contact">Support or Contact</a></li>
        <li><a href="#changelog">Changelog</a></li>
      </ul>
    </li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><p>来源：https://github.com/romancin/rclonebrowser-docker</p>
<h2 id="rclonebrowser-docker">rclonebrowser-docker</h2>
<p>A repository for creating a docker container including RClone Browser with GUI interface, based on <a href="https://github.com/kapitainsky/RcloneBrowser" target="_blank" rel="noopener noreffer ">kapitainsky fork</a></p>
<p>Thank you for continue developing this awesome software :)</p>
<p><a href="https://images.microbadger.com/badges/version/romancin/rclonebrowser.svg" target="_blank" rel="noopener noreffer ">img</a>
<a href="https://images.microbadger.com/badges/image/romancin/rclonebrowser.svg" target="_blank" rel="noopener noreffer ">img</a>
<a href="https://img.shields.io/badge/Donate-PayPal-green.svg" target="_blank" rel="noopener noreffer ">Donate</a></p>
<p>You can invite me a beer if you want ;)</p>
<p>This is a completely funcional Docker image with RClone Browser kapytainskyfork.</p>
<p>Based on Alpine Linux, which provides a very small size.</p>
<p>Tested and working on Synology and QNAP, but should work on any x86_64 devices.</p>
<p>Thanks to @jlesage for a great base image for GUI apps.</p>
<p>Instructions:</p>
<ul>
<li>Map any local port to 5800 for web access</li>
<li>Map any local port to 5900 for VNC access</li>
<li>Map a local volume to /config Storesconfigurationdata</li>
<li>Map a local volume to /media Accessmediafiles</li>
</ul>
<p>Sample run command:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">docker run -d --name<span class="o">=</span>rclonebrowser <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>-v /share/Container/rclonebrowser/config:/config <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>-v /share/Container/rclonebrowser/media:/media <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>-e <span class="nv">GROUP_ID</span><span class="o">=</span><span class="m">0</span> -e <span class="nv">USER_ID</span><span class="o">=</span><span class="m">0</span> -e <span class="nv">TZ</span><span class="o">=</span>Europe/Madrid <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>-p 5800:5800 <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>-p 5900:5900 <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>romancin/rclonebrowser:latest
</span></span></code></pre></td></tr></table>
</div>
</div><p>Browse to <code>http://your-host-ip:5800</code> to access the RClone Browser GUI.</p>
<h4 id="environment-variables">Environment Variables</h4>
<p>To customize some properties of the container, the following environment
variables can be passed via the <code>-e</code> parameter oneforeachvariable. Value
of this parameter has the format <code>&lt;VARIABLE_NAME&gt;=&lt;VALUE&gt;</code>.</p>
<table>
<thead>
<tr>
<th style="text-align:left">Variable</th>
<th style="text-align:left">Description</th>
<th style="text-align:left">Default</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>USER_ID</code></td>
<td style="text-align:left">ID of the user the application runs as. See <a href="http://www.baidu.com/archives/38/#usergroup-ids" target="_blank" rel="noopener noreffer ">User/Group IDs</a> to better understand when this should be set.</td>
<td style="text-align:left"><code>1000</code></td>
</tr>
<tr>
<td style="text-align:left"><code>GROUP_ID</code></td>
<td style="text-align:left">ID of the group the application runs as. See <a href="http://www.baidu.com/archives/38/#usergroup-ids" target="_blank" rel="noopener noreffer ">User/Group IDs</a> to better understand when this should be set.</td>
<td style="text-align:left"><code>1000</code></td>
</tr>
<tr>
<td style="text-align:left"><code>SUP_GROUP_IDS</code></td>
<td style="text-align:left">Comma-separated list of supplementary group IDs of the application.</td>
<td style="text-align:left">unset</td>
</tr>
<tr>
<td style="text-align:left"><code>UMASK</code></td>
<td style="text-align:left">Mask that controls how file permissions are set for newly created files. The value of the mask is in octal notation. By default, this variable is not set and the default umask of <code>022</code> is used, meaning that newly created files are readable by everyone, but only writable by the owner. See the following online umask calculator: <a href="http://wintelguy.com/umask-calc.pl" target="_blank" rel="noopener noreffer ">http://wintelguy.com/umask-calc.pl</a></td>
<td style="text-align:left">unset</td>
</tr>
<tr>
<td style="text-align:left"><code>TZ</code></td>
<td style="text-align:left">[TimeZone] of the container. Timezone can also be set by mapping <code>/etc/localtime</code> between the host and the container.</td>
<td style="text-align:left"><code>Etc/UTC</code></td>
</tr>
<tr>
<td style="text-align:left"><code>KEEP_APP_RUNNING</code></td>
<td style="text-align:left">When set to <code>1</code>, the application will be automatically restarted if it crashes or if user quits it.</td>
<td style="text-align:left"><code>0</code></td>
</tr>
<tr>
<td style="text-align:left"><code>APP_NICENESS</code></td>
<td style="text-align:left">Priority at which the application should run. A niceness value of -20 is the highest priority and 19 is the lowest priority. By default, niceness is not set, meaning that the default niceness of 0 is used. <strong>NOTE</strong>: A negative niceness priorityincrease requires additional permissions. In this case, the container should be run with the docker option <code>--cap-add=SYS_NICE</code>.</td>
<td style="text-align:left">unset</td>
</tr>
<tr>
<td style="text-align:left"><code>CLEAN_TMP_DIR</code></td>
<td style="text-align:left">When set to <code>1</code>, all files in the <code>/tmp</code> directory are delete during the container startup.</td>
<td style="text-align:left"><code>1</code></td>
</tr>
<tr>
<td style="text-align:left"><code>DISPLAY_WIDTH</code></td>
<td style="text-align:left">Width inpixels of the application&rsquo;s window.</td>
<td style="text-align:left"><code>1280</code></td>
</tr>
<tr>
<td style="text-align:left"><code>DISPLAY_HEIGHT</code></td>
<td style="text-align:left">Height inpixels of the application&rsquo;s window.</td>
<td style="text-align:left"><code>768</code></td>
</tr>
<tr>
<td style="text-align:left"><code>SECURE_CONNECTION</code></td>
<td style="text-align:left">When set to <code>1</code>, an encrypted connection is used to access the application&rsquo;s GUI eitherviawebbrowserorVNCclient. See the <a href="http://www.baidu.com/archives/38/#security" target="_blank" rel="noopener noreffer ">Security</a> section for more details.</td>
<td style="text-align:left"><code>0</code></td>
</tr>
<tr>
<td style="text-align:left"><code>VNC_PASSWORD</code></td>
<td style="text-align:left">Password needed to connect to the application&rsquo;s GUI. See the <a href="http://www.baidu.com/archives/38/#vnc-password" target="_blank" rel="noopener noreffer ">VNC Password</a> section for more details.</td>
<td style="text-align:left">unset</td>
</tr>
<tr>
<td style="text-align:left"><code>X11VNC_EXTRA_OPTS</code></td>
<td style="text-align:left">Extra options to pass to the x11vnc server running in the Docker container. <strong>WARNING</strong>: For advanced users. Do not use unless you know what you are doing.</td>
<td style="text-align:left">unset</td>
</tr>
<tr>
<td style="text-align:left"><code>ENABLE_CJK_FONT</code></td>
<td style="text-align:left">When set to <code>1</code>, open source computer font <code>WenQuanYi Zen Hei</code> is installed. This font contains a large range of Chinese/Japanese/Korean characters.</td>
<td style="text-align:left"><code>0</code></td>
</tr>
</tbody>
</table>
<h4 id="data-volumes">Data Volumes</h4>
<p>The following table describes data volumes used by the container. The mappings
are set via the <code>-v</code> parameter. Each mapping is specified with the following
format: <code>&lt;HOST_DIR&gt;:&lt;CONTAINER_DIR&gt;[:PERMISSIONS]</code>.</p>
<table>
<thead>
<tr>
<th style="text-align:left">Container path</th>
<th style="text-align:left">Permissions</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>/config</code></td>
<td style="text-align:left">rw</td>
<td style="text-align:left">This is where the application stores its configuration, log and any files needing persistency.</td>
</tr>
<tr>
<td style="text-align:left"><code>/media</code></td>
<td style="text-align:left">rw</td>
<td style="text-align:left">This is where downloaded files are stored, or where you put files in your host for uploading.</td>
</tr>
</tbody>
</table>
<h4 id="ports">Ports</h4>
<p>Here is the list of ports used by the container. They can be mapped to the host
via the <code>-p</code> parameter oneperportmapping. Each mapping is defined in the
following format: <code>&lt;HOST_PORT&gt;:&lt;CONTAINER_PORT&gt;</code>. The port number inside the
container cannot be changed, but you are free to use any port on the host side.</p>
<table>
<thead>
<tr>
<th style="text-align:left">Port</th>
<th style="text-align:left">Mapping to host</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">5800</td>
<td style="text-align:left">Mandatory</td>
<td style="text-align:left">Port used to access the application&rsquo;s GUI via the web interface.</td>
</tr>
<tr>
<td style="text-align:left">5900</td>
<td style="text-align:left">Optional</td>
<td style="text-align:left">Port used to access the application&rsquo;s GUI via the VNC protocol. Optional if no VNC client is used.</td>
</tr>
</tbody>
</table>
<h3 id="usergroup-ids">User/Group IDs</h3>
<p>When using data volumes (<code>-v</code> flags), permissions issues can occur between the
host and the container. For example, the user within the container may not
exists on the host. This could prevent the host from properly accessing files
and folders on the shared volume.</p>
<p>To avoid any problem, you can specify the user the application should run as.</p>
<p>This is done by passing the user ID and group ID to the container via the
<code>USER_ID</code> and <code>GROUP_ID</code> environment variables.</p>
<p>To find the right IDs to use, issue the following command on the host, with the
user owning the data volume on the host:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">id &lt;username&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p>Which gives an output like this one:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">uid=1000(myuser) gid=1000(myuser) groups=1000(myuser),4(adm),24(cdrom),27(sudo),46(plugdev),113(lpadmin)
</span></span></code></pre></td></tr></table>
</div>
</div><p>The value of <code>uid</code> userID and <code>gid</code> groupID are the ones that you should
be given the container.</p>
<h3 id="security">Security</h3>
<p>By default, access to the application&rsquo;s GUI is done over an unencrypted
connection HTTPorVNC.</p>
<p>Secure connection can be enabled via the <code>SECURE_CONNECTION</code> environment
variable. See the <a href="http://www.baidu.com/archives/38/#environment-variables" target="_blank" rel="noopener noreffer ">Environment Variables</a> section for
more details on how to set an environment variable.</p>
<p>When enabled, application&rsquo;s GUI is performed over an HTTPs connection when
accessed with a browser. All HTTP accesses are automatically redirected to
HTTPs.</p>
<p>When using a VNC client, the VNC connection is performed over SSL. Note that
few VNC clients support this method. [SSVNC] is one of them.</p>
<h4 id="certificates">Certificates</h4>
<p>Here are the certificate files needed by the container. By default, when they
are missing, self-signed certificates are generated and used. All files have
PEM encoded, x509 certificates.</p>
<table>
<thead>
<tr>
<th style="text-align:left">Container Path</th>
<th style="text-align:left">Purpose</th>
<th style="text-align:left">Content</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>/config/certs/vnc-server.pem</code></td>
<td style="text-align:left">VNC connection encryption.</td>
<td style="text-align:left">VNC server&rsquo;s private key and certificate, bundled with any root and intermediate certificates.</td>
</tr>
<tr>
<td style="text-align:left"><code>/config/certs/web-privkey.pem</code></td>
<td style="text-align:left">HTTPs connection encryption.</td>
<td style="text-align:left">Web server&rsquo;s private key.</td>
</tr>
<tr>
<td style="text-align:left"><code>/config/certs/web-fullchain.pem</code></td>
<td style="text-align:left">HTTPs connection encryption.</td>
<td style="text-align:left">Web server&rsquo;s certificate, bundled with any root and intermediate certificates.</td>
</tr>
</tbody>
</table>
<p><strong>NOTE</strong>: To prevent any certificate validity warnings/errors from the browser
or VNC client, make sure to supply your own valid certificates.</p>
<p><strong>NOTE</strong>: Certificate files are monitored and relevant daemons are automatically
restarted when changes are detected.</p>
<h4 id="vnc-password">VNC Password</h4>
<p>To restrict access to your application, a password can be specified. This can
be done via two methods:</p>
<ul>
<li>By using the <code>VNC_PASSWORD</code> environment variable.</li>
<li>By creating a <code>.vncpass_clear</code> file at the root of the <code>/config</code> volume.
This file should contains the password in clear-text. During the container
startup, content of the file is obfuscated and moved to <code>.vncpass</code>.</li>
</ul>
<p>The level of security provided by the VNC password depends on two things:</p>
<ul>
<li>The type of communication channel encrypted/unencrypted.</li>
<li>How secure access to the host is.</li>
</ul>
<p>When using a VNC password, it is highly desirable to enable the secure
connection to prevent sending the password in clear over an unencrypted channel.</p>
<p><strong>ATTENTION</strong>: Password is limited to 8 characters. This limitation comes from
the Remote Framebuffer Protocol <a href="https://tools.ietf.org/html/rfc6143" target="_blank" rel="noopener noreffer ">RFC</a> (see
section <a href="https://tools.ietf.org/html/rfc6143#section-7.2.2" target="_blank" rel="noopener noreffer ">7.2.2</a>). Any
characters beyhond the limit are ignored.</p>
<h3 id="shell-access">Shell Access</h3>
<p>To get shell access to a the running container, execute the following command:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">docker exec -ti CONTAINER sh
</span></span></code></pre></td></tr></table>
</div>
</div><p>Where <code>CONTAINER</code> is the ID or the name of the container used during its
creation (e.g. <code>crashplan-pro</code>).</p>
<h3 id="reverse-proxy">Reverse Proxy</h3>
<p>The following sections contains NGINX configuration that need to be added in
order to reverse proxy to this container.</p>
<p>A reverse proxy server can route HTTP requests based on the hostname or the URL
path.</p>
<h4 id="routing-based-on-hostname">Routing Based on Hostname</h4>
<p>In this scenario, each hostname is routed to a different application/container.</p>
<p>For example, let&rsquo;s say the reverse proxy server is running on the same machine
as this container. The server would proxy all HTTP requests sent to
<code>rclonebrowser.domain.tld</code> to the container at <code>127.0.0.1:5800</code>.</p>
<p>Here are the relevant configuration elements that would be added to the NGINX
configuration:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">map $http_upgrade $connection_upgrade {
</span></span><span class="line"><span class="cl">    default upgrade;
</span></span><span class="line"><span class="cl">    &#39;&#39;      close;
</span></span><span class="line"><span class="cl">}
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl">upstream rclonebrowser {
</span></span><span class="line"><span class="cl">    # If the reverse proxy server is not running on the same machine as the
</span></span><span class="line"><span class="cl">    # Docker container, use the IP of the Docker host here.
</span></span><span class="line"><span class="cl">    # Make sure to adjust the port according to how port 5800 of the
</span></span><span class="line"><span class="cl">    # container has been mapped on the host.
</span></span><span class="line"><span class="cl">    server 127.0.0.1:5800;
</span></span><span class="line"><span class="cl">}
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl">server {
</span></span><span class="line"><span class="cl">    [...]
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl">    server_name rclonebrowser.domain.tld;
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl">    location / {
</span></span><span class="line"><span class="cl">            proxy_pass http://rclonebrowser;
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl">    location /websockify {
</span></span><span class="line"><span class="cl">        proxy_pass http://rclonebrowser;
</span></span><span class="line"><span class="cl">        proxy_http_version 1.1;
</span></span><span class="line"><span class="cl">        proxy_set_header Upgrade $http_upgrade;
</span></span><span class="line"><span class="cl">        proxy_set_header Connection $connection_upgrade;
</span></span><span class="line"><span class="cl">        proxy_read_timeout 86400;
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">}
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="routing-based-on-url-path">Routing Based on URL Path</h4>
<p>In this scenario, the hostname is the same, but different URL paths are used to
route to different applications/containers.</p>
<p>For example, let&rsquo;s say the reverse proxy server is running on the same machine
as this container. The server would proxy all HTTP requests for
<code>server.domain.tld/rclonebrowser</code> to the container at <code>127.0.0.1:5800</code>.</p>
<p>Here are the relevant configuration elements that would be added to the NGINX
configuration:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">map $http_upgrade $connection_upgrade {
</span></span><span class="line"><span class="cl">    default upgrade;
</span></span><span class="line"><span class="cl">    &#39;&#39;      close;
</span></span><span class="line"><span class="cl">}
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl">upstream rclonebrowser {
</span></span><span class="line"><span class="cl">    # If the reverse proxy server is not running on the same machine as the
</span></span><span class="line"><span class="cl">    # Docker container, use the IP of the Docker host here.
</span></span><span class="line"><span class="cl">    # Make sure to adjust the port according to how port 5800 of the
</span></span><span class="line"><span class="cl">    # container has been mapped on the host.
</span></span><span class="line"><span class="cl">    server 127.0.0.1:5800;
</span></span><span class="line"><span class="cl">}
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl">server {
</span></span><span class="line"><span class="cl">    [...]
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl">    location = /rclonebrowser {return 301 $scheme://$http_host/rclonebrowser/;}
</span></span><span class="line"><span class="cl">    location /rclonebrowser/ {
</span></span><span class="line"><span class="cl">        proxy_pass http://rclonebrowser/;
</span></span><span class="line"><span class="cl">        location /rclonebrowser/websockify {
</span></span><span class="line"><span class="cl">            proxy_pass http://rclonebrowser/websockify/;
</span></span><span class="line"><span class="cl">            proxy_http_version 1.1;
</span></span><span class="line"><span class="cl">            proxy_set_header Upgrade $http_upgrade;
</span></span><span class="line"><span class="cl">            proxy_set_header Connection $connection_upgrade;
</span></span><span class="line"><span class="cl">            proxy_read_timeout 86400;
</span></span><span class="line"><span class="cl">        }
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">}
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="support-or-contact">Support or Contact</h3>
<p>Having troubles with the container or have questions? Please
[create a new issue].</p>
<h3 id="changelog">Changelog</h3>
<p>v3.0.2 09/09/2020: Updated to Alpine 3.12 and Rclone current version
v3.0.0 22/03/2019: Updated to RcloneBrowser 1.8.0 version
v1.0.1 22/09/2019: Updated to latest image from jlesage and added Jenkinsfile for CI</p>
</div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>Updated on 0001-01-01</span>
            </div><div class="post-info-license">
                <span>false</span>
            </div></div>
        <div class="post-info-line">
            <div class="post-info-md"><span>
                            <a class="link-to-markdown" href="/docker%E6%90%AD%E5%BB%BArclone-webgui/index.md" target="_blank">Read Markdown</a>
                        </span></div>
            <div class="post-info-share">
                <span><a href="javascript:void(0);" title="Share on Twitter" data-sharer="twitter" data-url="http://example.org/docker%E6%90%AD%E5%BB%BArclone-webgui/" data-title="Docker搭建Rclone-WebGui" data-hashtags="docker"><i class="fab fa-twitter fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Facebook" data-sharer="facebook" data-url="http://example.org/docker%E6%90%AD%E5%BB%BArclone-webgui/" data-hashtag="docker"><i class="fab fa-facebook-square fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Hacker News" data-sharer="hackernews" data-url="http://example.org/docker%E6%90%AD%E5%BB%BArclone-webgui/" data-title="Docker搭建Rclone-WebGui"><i class="fab fa-hacker-news fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Line" data-sharer="line" data-url="http://example.org/docker%E6%90%AD%E5%BB%BArclone-webgui/" data-title="Docker搭建Rclone-WebGui"><i data-svg-src="/lib/simple-icons/icons/line.min.svg" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on 微博" data-sharer="weibo" data-url="http://example.org/docker%E6%90%AD%E5%BB%BArclone-webgui/" data-title="Docker搭建Rclone-WebGui"><i class="fab fa-weibo fa-fw" aria-hidden="true"></i></a></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw" aria-hidden="true"></i>&nbsp;<a href="/tags/docker/">Docker</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">Back</a></span>&nbsp;|&nbsp;<span><a href="/">Home</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/docker%E6%90%AD%E5%BB%BAwebdav%E6%9C%8D%E5%8A%A1/" class="prev" rel="prev" title="Docker搭建WebDAV服务"><i class="fas fa-angle-left fa-fw" aria-hidden="true"></i>Docker搭建WebDAV服务</a>
            <a href="/docker%E6%90%AD%E5%BB%BAjupyter%E6%9C%8D%E5%8A%A1/" class="next" rel="next" title="Docker搭建Jupyter服务">Docker搭建Jupyter服务<i class="fas fa-angle-right fa-fw" aria-hidden="true"></i></a></div>
</div>
</article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line">Powered by <a href="https://gohugo.io/" target="_blank" rel="noopener noreffer" title="Hugo 0.115.4">Hugo</a> | Theme - <a href="https://github.com/dillonzq/LoveIt" target="_blank" rel="noopener noreffer" title="LoveIt 0.2.11"><i class="far fa-kiss-wink-heart fa-fw" aria-hidden="true"></i> LoveIt</a>
                </div><div class="footer-line" itemscope itemtype="http://schema.org/CreativeWork"><i class="far fa-copyright fa-fw" aria-hidden="true"></i><span itemprop="copyrightYear">2019 - 2023</span>&nbsp;|&nbsp;<span class="license"><a rel="license external nofollow noopener noreffer" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY-NC 4.0</a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Back to Top">
                <i class="fas fa-arrow-up fa-fw" aria-hidden="true"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="View Comments">
                <i class="fas fa-comment fa-fw" aria-hidden="true"></i>
            </a>
        </div><link rel="stylesheet" href="/lib/cookieconsent/cookieconsent.min.css"><script type="text/javascript" src="/lib/autocomplete/autocomplete.min.js"></script><script type="text/javascript" src="/lib/lunr/lunr.min.js"></script><script type="text/javascript" src="/lib/lazysizes/lazysizes.min.js"></script><script type="text/javascript" src="/lib/clipboard/clipboard.min.js"></script><script type="text/javascript" src="/lib/sharer/sharer.min.js"></script><script type="text/javascript" src="/lib/cookieconsent/cookieconsent.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"Copy to clipboard","maxShownLines":50},"comment":{},"cookieconsent":{"content":{"dismiss":"Got it!","link":"Learn more","message":"This website uses Cookies to improve your experience."},"enable":true,"palette":{"button":{"background":"#f0f0f0"},"popup":{"background":"#1aa3ff"}},"theme":"edgeless"},"search":{"highlightTag":"em","lunrIndexURL":"/index.json","maxResultLength":10,"noResultsFound":"No results found","snippetLength":50,"type":"lunr"}};</script><script type="text/javascript" src="/js/theme.min.js"></script></body>
</html>
