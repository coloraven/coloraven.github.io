<!DOCTYPE html><html lang="zh-CN" data-theme="dark"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>æ‰‹æ‘¸æ‰‹å¸¦ä½ Dockerä»å…¥é—¨åˆ°å®è·µ | BlackELK's Blog</title><meta name="keywords" content="linux,docker"><meta name="author" content="é»‘éº‹é¹¿"><meta name="copyright" content="é»‘éº‹é¹¿"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#0d0d0d"><meta name="description" content="æ‰‹æ‘¸æ‰‹å¸¦ä½  Docker ä»å…¥é—¨åˆ°å®è·µåœ¨ä¸‹æœ€è¿‘é‡åˆ°è¦åœ¨æœåŠ¡å™¨ä¸Šå®‰è£… Mysqlã€Nginxã€EasyMock ç­‰å·¥å…·çš„åœºæ™¯ï¼Œè¿™é‡Œè®°å½•ä¸€ä¸‹æˆ‘ä½¿ç”¨ Docker å®‰è£…çš„è¿‡ç¨‹ï¼Œå¸Œæœ›ä¹Ÿèƒ½åœ¨ç±»ä¼¼çš„åœºæ™¯ä¸­å¸®åŠ©åˆ°å¤§å®¶ï½ æœ¬æ–‡å‰å¤‡çŸ¥è¯†éœ€è¦ä¸€äº› Linux çš„ä¸€äº›åŸºæœ¬å‘½ä»¤ï¼Œæ¨ä»‹å…ˆçœ‹ä¸€ä¸‹ &lt;åŠå°æ—¶æä¼š CentOS å…¥é—¨å¿…å¤‡åŸºç¡€çŸ¥è¯†&gt; è¿™ç¯‡æ–‡ç« ã€‚ CentOS ç‰ˆæœ¬ï¼š 7.6 Nginx ç‰ˆæœ¬ï¼š 1.16"><meta property="og:type" content="article"><meta property="og:title" content="æ‰‹æ‘¸æ‰‹å¸¦ä½ Dockerä»å…¥é—¨åˆ°å®è·µ"><meta property="og:url" content="http://example.com/2021/8/%E6%89%8B%E6%91%B8%E6%89%8B%E5%B8%A6%E4%BD%A0%20Docker%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E5%AE%9E%E8%B7%B5/index.html"><meta property="og:site_name" content="BlackELK&#39;s Blog"><meta property="og:description" content="æ‰‹æ‘¸æ‰‹å¸¦ä½  Docker ä»å…¥é—¨åˆ°å®è·µåœ¨ä¸‹æœ€è¿‘é‡åˆ°è¦åœ¨æœåŠ¡å™¨ä¸Šå®‰è£… Mysqlã€Nginxã€EasyMock ç­‰å·¥å…·çš„åœºæ™¯ï¼Œè¿™é‡Œè®°å½•ä¸€ä¸‹æˆ‘ä½¿ç”¨ Docker å®‰è£…çš„è¿‡ç¨‹ï¼Œå¸Œæœ›ä¹Ÿèƒ½åœ¨ç±»ä¼¼çš„åœºæ™¯ä¸­å¸®åŠ©åˆ°å¤§å®¶ï½ æœ¬æ–‡å‰å¤‡çŸ¥è¯†éœ€è¦ä¸€äº› Linux çš„ä¸€äº›åŸºæœ¬å‘½ä»¤ï¼Œæ¨ä»‹å…ˆçœ‹ä¸€ä¸‹ &lt;åŠå°æ—¶æä¼š CentOS å…¥é—¨å¿…å¤‡åŸºç¡€çŸ¥è¯†&gt; è¿™ç¯‡æ–‡ç« ã€‚ CentOS ç‰ˆæœ¬ï¼š 7.6 Nginx ç‰ˆæœ¬ï¼š 1.16"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://i.loli.net/2021/08/19/iseIpWy3gEwlarx.png"><meta property="article:published_time" content="2021-08-16T10:50:45.000Z"><meta property="article:modified_time" content="2021-08-23T04:04:44.978Z"><meta property="article:author" content="é»‘éº‹é¹¿"><meta property="article:tag" content="linux"><meta property="article:tag" content="docker"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://i.loli.net/2021/08/19/iseIpWy3gEwlarx.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://example.com/2021/8/%E6%89%8B%E6%91%B8%E6%89%8B%E5%B8%A6%E4%BD%A0%20Docker%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E5%AE%9E%E8%B7%B5/"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="//fonts.googleapis.com" crossorigin=""><link rel="preconnect" href="//busuanzi.ibruce.info"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web&amp;display=swap" media="print" onload='this.media="all"'><script>const GLOBAL_CONFIG={root:"/",algolia:void 0,localSearch:{path:"search.xml",languages:{hits_empty:"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹ï¼š${query}"}},translate:{defaultEncoding:2,translateDelay:0,msgToTraditionalChinese:"ç¹",msgToSimplifiedChinese:"ç®€"},noticeOutdate:void 0,highlight:{plugin:"highlighjs",highlightCopy:!0,highlightLang:!0,highlightHeightLimit:200},copy:{success:"å¤åˆ¶æˆåŠŸ",error:"å¤åˆ¶é”™è¯¯",noSupport:"æµè§ˆå™¨ä¸æ”¯æŒ"},relativeDate:{homepage:!1,post:!1},runtime:"",date_suffix:{just:"åˆšåˆš",min:"åˆ†é’Ÿå‰",hour:"å°æ—¶å‰",day:"å¤©å‰",month:"ä¸ªæœˆå‰"},copyright:void 0,lightbox:"fancybox",Snackbar:void 0,source:{jQuery:"https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js",justifiedGallery:{js:"https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js",css:"https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css"},fancybox:{js:"https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js",css:"https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"}},isPhotoFigcaption:!0,islazyload:!1,isanchor:!0}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={title:"æ‰‹æ‘¸æ‰‹å¸¦ä½ Dockerä»å…¥é—¨åˆ°å®è·µ",isPost:!0,isHome:!1,isHighlightShrink:!1,isToc:!0,postUpdate:"2021-08-23 12:04:44"}</script><noscript><style type="text/css">#nav{opacity:1}.justified-gallery img{opacity:1}#post-meta time,#recent-posts time{display:inline!important}</style></noscript><script>(e=>{e.saveToLocal={set:function(e,t,o){if(0!==o){const a=new Date;o=864e5*o,o={value:t,expiry:a.getTime()+o};localStorage.setItem(e,JSON.stringify(o))}},get:function(e){var t=localStorage.getItem(e);if(t){t=JSON.parse(t);const o=new Date;if(!(o.getTime()>t.expiry))return t.value;localStorage.removeItem(e)}}},e.getScript=a=>new Promise((t,e)=>{const o=document.createElement("script");o.src=a,o.async=!0,o.onerror=e,o.onload=o.onreadystatechange=function(){var e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(o.onload=o.onreadystatechange=null,t())},document.head.appendChild(o)}),e.activateDarkMode=function(){document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#0d0d0d")},e.activateLightMode=function(){document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#ffffff")};var t=saveToLocal.get("theme"),o=window.matchMedia("(prefers-color-scheme: dark)").matches,a=window.matchMedia("(prefers-color-scheme: light)").matches,c=window.matchMedia("(prefers-color-scheme: no-preference)").matches,e=!o&&!a&&!c;if(void 0===t){if(a)activateLightMode();else if(o)activateDarkMode();else if(c||e){const n=new Date;e=n.getHours();(e<=6||18<=e?activateDarkMode:activateLightMode)()}window.matchMedia("(prefers-color-scheme: dark)").addListener(function(e){void 0===saveToLocal.get("theme")&&(e.matches?activateDarkMode:activateLightMode)()})}else("light"===t?activateLightMode:activateDarkMode)();t=saveToLocal.get("aside-status");void 0!==t&&("hide"===t?document.documentElement.classList.add("hide-aside"):document.documentElement.classList.remove("hide-aside"));t=saveToLocal.get("global-font-size");void 0!==t&&document.documentElement.style.setProperty("--global-font-size",t+"px");t=()=>{GLOBAL_CONFIG_SITE.isHome&&/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)&&document.documentElement.classList.add("apple")};t(),document.addEventListener("pjax:complete",t)})(window)</script><link rel="stylesheet" href="/css/custom.css" media="defer" onload='this.media="all"'><script src="/js/hexo_resize_image.js"></script><meta name="generator" content="Hexo 5.4.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png" onerror='onerror=null,src="/img/friend_404.gif"' alt="avatar"></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">71</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">54</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">15</div></a></div></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> æ—¶é—´è½´</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> åˆ†ç±»</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image:url(https://i.loli.net/2021/08/19/iseIpWy3gEwlarx.png)"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">BlackELK's Blog</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> æœç´¢</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> æ—¶é—´è½´</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> åˆ†ç±»</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">æ‰‹æ‘¸æ‰‹å¸¦ä½ Dockerä»å…¥é—¨åˆ°å®è·µ<a class="post-edit-link" href="https://github.com/sirliu/blogsource/edit/main/source/_posts/æ‰‹æ‘¸æ‰‹å¸¦ä½  Dockerä»å…¥é—¨åˆ°å®è·µ.md" title="ç¼–è¾‘" target="_blank"><i class="fas fa-pencil-alt"></i></a></h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">å‘è¡¨äº</span><time class="post-meta-date-created" datetime="2021-08-16T10:50:45.000Z" title="å‘è¡¨äº 2021-08-16 18:50:45">2021-08-16</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2021-08-23T04:04:44.978Z" title="æ›´æ–°äº 2021-08-23 12:04:44">2021-08-23</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/docker/">docker</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="æ‰‹æ‘¸æ‰‹å¸¦ä½ Dockerä»å…¥é—¨åˆ°å®è·µ"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»é‡:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="æ‰‹æ‘¸æ‰‹å¸¦ä½ -Docker-ä»å…¥é—¨åˆ°å®è·µ"><a href="#æ‰‹æ‘¸æ‰‹å¸¦ä½ -Docker-ä»å…¥é—¨åˆ°å®è·µ" class="headerlink" title="æ‰‹æ‘¸æ‰‹å¸¦ä½  Docker ä»å…¥é—¨åˆ°å®è·µ"></a>æ‰‹æ‘¸æ‰‹å¸¦ä½  Docker ä»å…¥é—¨åˆ°å®è·µ</h1><p>åœ¨ä¸‹æœ€è¿‘é‡åˆ°è¦åœ¨æœåŠ¡å™¨ä¸Šå®‰è£… Mysqlã€Nginxã€EasyMock ç­‰å·¥å…·çš„åœºæ™¯ï¼Œè¿™é‡Œè®°å½•ä¸€ä¸‹æˆ‘ä½¿ç”¨ Docker å®‰è£…çš„è¿‡ç¨‹ï¼Œå¸Œæœ›ä¹Ÿèƒ½åœ¨ç±»ä¼¼çš„åœºæ™¯ä¸­å¸®åŠ©åˆ°å¤§å®¶ï½</p><p>æœ¬æ–‡å‰å¤‡çŸ¥è¯†éœ€è¦ä¸€äº› Linux çš„ä¸€äº›åŸºæœ¬å‘½ä»¤ï¼Œæ¨ä»‹å…ˆçœ‹ä¸€ä¸‹ <a target="_blank" rel="noopener" href="https://juejin.im/post/6844904080972709901">&lt;åŠå°æ—¶æä¼š CentOS å…¥é—¨å¿…å¤‡åŸºç¡€çŸ¥è¯†&gt;</a> è¿™ç¯‡æ–‡ç« ã€‚</p><p>CentOS ç‰ˆæœ¬ï¼š <code>7.6</code></p><p>Nginx ç‰ˆæœ¬ï¼š <code>1.16.1</code></p><p>Docker ç‰ˆæœ¬ï¼š <code>19.03.12</code></p><blockquote><p>ä½ å¤šå­¦ä¸€æ ·æœ¬äº‹ï¼Œå°±å°‘è¯´ä¸€å¥æ±‚äººçš„è¯</p></blockquote><h2 id="1-ä»‹ç»"><a href="#1-ä»‹ç»" class="headerlink" title="1. ä»‹ç»"></a>1. ä»‹ç»</h2><h3 id="1-1-å‡ºç°çš„åŸå› "><a href="#1-1-å‡ºç°çš„åŸå› " class="headerlink" title="1.1 å‡ºç°çš„åŸå› "></a>1.1 å‡ºç°çš„åŸå› </h3><p>å‰åç«¯å¼€å‘åˆ°æµ‹è¯•åˆ°ç”Ÿäº§çš„è¿‡ç¨‹ä¸­ï¼Œç»å¸¸ä¼šé‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œæ˜æ˜æˆ‘åœ¨æœ¬åœ°è·‘æ²¡é—®é¢˜ï¼Œä¸ºä»€ä¹ˆåˆ°æµ‹è¯•ç¯å¢ƒæˆ–è€…ç”Ÿäº§ç¯å¢ƒå°±æŠ¥é”™äº†äº†å‘¢ï¼Œå¸¸å¸¸è¿™æ˜¯å› ä¸ºå¼€å‘ã€æµ‹è¯•ã€ç”Ÿäº§çš„ç¯å¢ƒä¸é…ç½®ä¸åŒå¯¼è‡´çš„ã€‚</p><p>æŠ˜è…¾è¿‡ç¯å¢ƒé…ç½®çš„äººéƒ½æ˜ç™½å…¶ä¸­éº»çƒ¦ï¼Œæ¢ä¸€å°ç³»ç»Ÿã€è™šæ‹Ÿæœºã€æœºå™¨ï¼Œå°±åˆè¦é‡æ¥ä¸€æ¬¡ï¼Œè´¹åŠ›è´¹æ—¶ã€‚ç”±äºç¯å¢ƒå’Œé…ç½®çš„åŸå› ï¼Œå„ç§å¥‡å¥‡æ€ªæ€ªå› ä¸ºç¯å¢ƒå’Œé…ç½®çš„ Bugï¼Œæ€»æ˜¯åƒæ‰“åœ°é¼ æ¸¸æˆé‡Œé¢çš„åœ°é¼ ä¸€æ ·ä¸æ–­å†’å‡ºæ¥ ğŸ¹</p><p>![](c9ce28e3e43e4bb292b92fd1a4786fe9tplv-k3u1fbpfcp-zoom-1.image#vwid=1586&amp;vhei=600â€ alt=â€Dockerâ€ style=â€zoom:80%;â€ /&gt;</p><p>Docker å¯¹è¿™ä¸ªé—®é¢˜ç»™å‡ºäº†ä¸€ä¸ªå¾ˆå¥½çš„è§£å†³æ–¹æ¡ˆï¼Œé€šè¿‡é•œåƒå°†é™¤äº†ç³»ç»Ÿä¹‹å¤–æ‰€éœ€è¦çš„ç³»ç»Ÿç¯å¢ƒç”±ä¸‹è€Œä¸Šæ‰“åŒ…ï¼Œè¾¾åˆ°æœåŠ¡è·¨å¹³å°çš„æ— ç¼è¿ä½œã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå®‰è£…çš„æ—¶å€™ï¼ŒæŠŠç‰¹å®šçš„ç¯å¢ƒä¸€æ¨¡ä¸€æ ·åœ°æ¬è¿‡æ¥ï¼Œä»è€Œè§£å†³ã€Œåœ¨æˆ‘çš„ç”µè„‘ä¸Šèƒ½è·‘ï¼Œåœ¨ xx ç¯å¢ƒå°±è·‘ä¸äº†ã€çš„æƒ…å†µã€‚</p><p>å¦å¤–ä¸€ä¸ªé‡è¦çš„åŸå› ï¼Œå°±æ˜¯è½»é‡ï¼ŒåŸºäºå®¹å™¨çš„è™šæ‹ŸåŒ–ï¼ŒDocker çš„é•œåƒä»…åŒ…å«ä¸šåŠ¡è¿è¡Œæ‰€éœ€çš„ runtime ç¯å¢ƒï¼Œä¸€ä¸ª CentOS/Ubuntu åŸºç¡€é•œåƒä»… 170Mï¼Œå› ä¸ºè½»é‡ä¸€ä¸ªå®¿ä¸»æœºå¯ä»¥è½»æ¾å®‰è£…æ•°ç™¾ä¸ªå®¹å™¨ã€‚</p><h3 id="1-2-æ˜¯ä»€ä¹ˆ"><a href="#1-2-æ˜¯ä»€ä¹ˆ" class="headerlink" title="1.2 æ˜¯ä»€ä¹ˆ"></a>1.2 æ˜¯ä»€ä¹ˆ</h3><p>Docker æ˜¯åŸºäº Go è¯­è¨€å®ç°çš„äº‘å¼€æºé¡¹ç›®ï¼Œä» 2013 å¹´å‘å¸ƒåˆ°ç°åœ¨ä¸€ç›´å¹¿å—å…³æ³¨ã€‚Docker å¯ä»¥è®©ä½ åƒä½¿ç”¨é›†è£…ç®±ä¸€æ ·å¿«é€Ÿçš„ç»„åˆæˆåº”ç”¨ï¼Œå¹¶ä¸”å¯ä»¥åƒè¿è¾“æ ‡å‡†é›†è£…ç®±ä¸€æ ·ï¼Œå°½å¯èƒ½çš„å±è”½ä»£ç å±‚é¢çš„å·®å¼‚ã€‚å®ƒå°†åº”ç”¨ç¨‹åºä¸è¯¥ç¨‹åºçš„ä¾èµ–ï¼Œæ‰“åŒ…åœ¨ä¸€ä¸ªæ–‡ä»¶é‡Œé¢ã€‚è¿è¡Œè¿™ä¸ªæ–‡ä»¶ï¼Œå°±ä¼šç”Ÿæˆä¸€ä¸ªè™šæ‹Ÿå®¹å™¨ã€‚</p><p>ç¨‹åºåœ¨è¿™ä¸ªè™šæ‹Ÿå®¹å™¨é‡Œè¿è¡Œï¼Œå°±å¥½åƒåœ¨çœŸå®çš„ç‰©ç†æœºä¸Šè¿è¡Œä¸€æ ·ã€‚æœ‰äº† Dockerï¼Œå°±ä¸ç”¨æ‹…å¿ƒç¯å¢ƒé—®é¢˜ã€‚</p><p>æœ¬æ–‡å°±ä¸å¯¹æ¯”è™šæ‹Ÿæœºè·Ÿ Docker çš„åŒºåˆ«å’Œä¼˜åŠ£äº†ï¼Œæ¯ä¸ªæ–‡ç« éƒ½æœ‰ï¼Œè¯´çƒ‚äº†ï¼Œæƒ³äº†è§£çš„è¯å¯ä»¥ç™¾åº¦ä¸€ä¸‹ ğŸ˜‚ï¼Œæˆ‘è¿™é‡Œå°±ä¸å¤šè¯´äº†ï¼Œä¸‹é¢ç›´æ¥çœ‹çœ‹æ€ä¹ˆå®‰è£…æ€ä¹ˆç”¨èµ·æ¥å§ã€‚</p><h2 id="2-å®‰è£…-amp-é…ç½®"><a href="#2-å®‰è£…-amp-é…ç½®" class="headerlink" title="2. å®‰è£… &amp; é…ç½®"></a>2. å®‰è£… &amp; é…ç½®</h2><h3 id="2-1-Mac-ä¸‹å®‰è£…"><a href="#2-1-Mac-ä¸‹å®‰è£…" class="headerlink" title="2.1 Mac ä¸‹å®‰è£…"></a>2.1 Mac ä¸‹å®‰è£…</h3><p>åœ¨ä¸‹ç›´æ¥ä½¿ç”¨ Homebrew Cask æ¥å®‰è£…ï¼ŒMac ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Homebrew å®‰è£…</span></span><br><span class="line">braw cask install docker</span><br></pre></td></tr></table></figure><p>å³å¯ï¼Œå®‰è£…å®Œè¾“å…¥å‘½ä»¤ï¼Œç›´æ¥æŠ¥é”™ï¼</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">âœ  ~ docker</span><br><span class="line">zsh: <span class="built_in">command</span> not found: docker  <span class="comment"># æŠ¥é”™</span></span><br></pre></td></tr></table></figure><p>é‡åˆ°è¿™ä¸ªæŠ¥é”™åˆ«æ‹…å¿ƒï¼Œå®‰è£…å®Œä¹‹åè¦åœ¨åº”ç”¨åˆ—è¡¨é‡Œé¢åŒå‡» Docker åº”ç”¨ï¼Œè¾“å…¥å¯†ç ä¹‹åå°±å¯ä»¥ä½¿ç”¨è¿™ä¸ªå‘½ä»¤äº† ğŸ˜…ã€‚</p><h3 id="2-2-CentOS-ä¸‹å®‰è£…"><a href="#2-2-CentOS-ä¸‹å®‰è£…" class="headerlink" title="2.2 CentOS ä¸‹å®‰è£…"></a>2.2 CentOS ä¸‹å®‰è£…</h3><p>Docker è¦æ±‚ CentOS ç‰ˆæœ¬å¿…é¡»åœ¨ 6.5 åŠä»¥ä¸Šæ‰å¯ä»¥å®‰è£…ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å®‰è£…</span></span><br><span class="line">sudo yum install yum-utils device-mapper-persistent-data lvm2</span><br><span class="line">sudo yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo</span><br><span class="line">sudo yum install docker-ce</span><br><span class="line"> </span><br><span class="line"><span class="comment"># å¼€å¯ Docker</span></span><br><span class="line">sudo systemctl start docker</span><br></pre></td></tr></table></figure><p>åœ¨ Windows ä¸Šå¯ä»¥ç›´æ¥<a target="_blank" rel="noopener" href="https://docs.docker.com/docker-for-windows/install/">ä¸‹è½½å®‰è£…åŒ…</a>æ¥å®‰è£…ï¼Œæˆ–è€… Mac ä¸Šä¸ä½¿ç”¨ Homebrew ä¹Ÿå¯ä»¥å»<a target="_blank" rel="noopener" href="https://docs.docker.com/get-docker/">å®˜ç½‘</a>ç›´æ¥ä¸‹è½½å®‰è£…åŒ…æ¥å®‰è£…ï¼Œç™¾åº¦ä¸€ä¸‹åˆ°å¤„éƒ½æ˜¯å®‰è£…æ–¹æ³•ï¼Œå…¶ä»–çš„å°±ä¸ç”¨å¤šè¯´ã€‚</p><h2 id="3-ç®€å•é…ç½®å¹¶è·‘èµ·æ¥"><a href="#3-ç®€å•é…ç½®å¹¶è·‘èµ·æ¥" class="headerlink" title="3. ç®€å•é…ç½®å¹¶è·‘èµ·æ¥"></a>3. ç®€å•é…ç½®å¹¶è·‘èµ·æ¥</h2><h3 id="3-1-é…ç½®é•œåƒåŠ é€Ÿ"><a href="#3-1-é…ç½®é•œåƒåŠ é€Ÿ" class="headerlink" title="3.1 é…ç½®é•œåƒåŠ é€Ÿ"></a>3.1 é…ç½®é•œåƒåŠ é€Ÿ</h3><p>åœ¨ MacOS çš„ Docker é…ç½® <code>Perferences -&gt; Docker Engine</code> æˆ–è€… Windows çš„ <code>Settings -&gt; Deamon</code> ä¸­çš„ JSON ä¸­å¢åŠ ä¸€é¡¹ <code>registry-mirrors</code> å¦‚ä¸‹</p><p><img src="468e1547b4e549f28f140f30ca49c431tplv-k3u1fbpfcp-zoom-1.jpg"></p><p>é…ç½®å®Œä¹‹ååœ¨å‘½ä»¤è¡Œä¸­ <code>docker info</code> å°±å¯ä»¥æŸ¥çœ‹åˆ°æˆ‘ä»¬é…ç½®çš„é•œåƒåŠ é€Ÿåœ°å€äº†ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">âœ  ~ sudo docker info</span><br><span class="line">...</span><br><span class="line"> Registry Mirrors:</span><br><span class="line">  https://reg-mirror.qiniu.com/</span><br><span class="line">  http://hub-mirror.c.163.com/</span><br><span class="line">  https://registry.docker-cn.com/</span><br><span class="line">...</span><br></pre></td></tr></table></figure><p>å¦‚æœä½ çš„ç³»ç»Ÿçš„ Docker æ²¡æœ‰å®¢æˆ·ç«¯ï¼Œæ¯”å¦‚ CentOS ä¸­ï¼Œå¯ä»¥ç›´æ¥ä¿®æ”¹ deamon é…ç½®æ–‡ä»¶ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä¿®æ”¹/åˆ›å»º docker çš„ deamon é…ç½®æ–‡ä»¶</span></span><br><span class="line">sudo vi /etc/docker/daemon.json</span><br><span class="line"> </span><br><span class="line"><span class="comment"># ä¿®æ”¹ä¸ºå¦‚ä¸‹é…ç½®</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;experimental&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="string">&quot;debug&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="string">&quot;registry-mirrors&quot;</span>: [</span><br><span class="line">    <span class="string">&quot;https://reg-mirror.qiniu.com&quot;</span>,</span><br><span class="line">    <span class="string">&quot;http://hub-mirror.c.163.com&quot;</span>,</span><br><span class="line">    <span class="string">&quot;https://registry.docker-cn.com&quot;</span></span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment"># ä¿®æ”¹å®Œ :wq é‡å¯</span></span><br><span class="line">sudo systemctl restart docker</span><br></pre></td></tr></table></figure><h3 id="3-2-Hello-World-ï¼"><a href="#3-2-Hello-World-ï¼" class="headerlink" title="3.2 Hello World ï¼"></a>3.2 Hello World ï¼</h3><p>ç„¶åå°±å¯ä»¥å¿«ä¹è·‘èµ·æ¥æˆ‘ä»¬ç¬¬ä¸€ä¸ª Docker æŒ‡ä»¤ Hello World äº†</p><p><img src="7bfcde346b5f4fc18d36b5cb7b822bb1tplv-k3u1fbpfcp-zoom-1.jpg"></p><p>Good start ï¼ ğŸ‰</p><h2 id="4-é•œåƒ-amp-å®¹å™¨-amp-ä»“åº“"><a href="#4-é•œåƒ-amp-å®¹å™¨-amp-ä»“åº“" class="headerlink" title="4. é•œåƒ &amp; å®¹å™¨ &amp; ä»“åº“"></a>4. é•œåƒ &amp; å®¹å™¨ &amp; ä»“åº“</h2><p>é•œåƒå’Œå®¹å™¨çš„å…³ç³»å°±åƒç±»å’Œç±»çš„å®ä¾‹ï¼Œä¸€ä¸ªé•œåƒå¯ä»¥åŒæ—¶è·‘å¤šä¸ªå®¹å™¨ï¼Œå•ä¸ªå®¹å™¨å®ä¾‹åˆå¯ä»¥åˆ›å»ºæ–°çš„é•œåƒã€‚å¦‚ä¸‹å›¾ï¼š</p><p><img src="8e0525e7f3944ca089e94d1dcc04a95dtplv-k3u1fbpfcp-zoom-1.jpg"></p><p>ä¸‹é¢è§£é‡Šä¸€ä¸‹è¿™ä¸ªå›¾é‡Œé¢å‡ºç°çš„å…ƒç´ </p><table><thead><tr><th align="left">æ¦‚å¿µ</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td align="left">Docker é•œåƒ Images</td><td>ç”¨äºåˆ›å»º Docker å®¹å™¨çš„åªè¯»<strong>æ¨¡æ¿</strong>ï¼Œæ¯”å¦‚ Ubuntu 16.04ç³»ç»Ÿã€Nginx 1.16.0 ç­‰ï¼Œæ˜¯ä¸€ä¸ªç‰¹æ®Šçš„æ–‡ä»¶ç³»ç»Ÿï¼ŒåŒ…æ‹¬å®¹å™¨è¿è¡Œæ—¶éœ€è¦çš„ç¨‹åºã€åº“ã€èµ„æºã€å‚æ•°ç­‰ï¼Œä½†ä¸åŒ…å«ä»»ä½•åŠ¨æ€æ•°æ®ï¼Œå†…å®¹åœ¨æ„å»ºåä¹Ÿä¸ä¼šè¢«æ”¹å˜ï¼Œä¸€ä¸ªé•œåƒå¯ä»¥åˆ›å»ºå¤šä¸ªå®¹å™¨</td></tr><tr><td align="left">Docker å®¹å™¨ Container</td><td>å®¹å™¨æ˜¯ç‹¬ç«‹è¿è¡Œã€ç›¸äº’éš”ç¦»çš„ä¸€ä¸ªæˆ–ä¸€ç»„åº”ç”¨ï¼Œæ˜¯é•œåƒåˆ›å»ºçš„è¿è¡Œå®ä¾‹ï¼Œå®è´¨æ˜¯è¿›ç¨‹ï¼Œå¯ä»¥çœ‹ä½œä¸ºä¸€ä¸ª<strong>ç®€æ˜“ç‰ˆçš„ Linux ç¯å¢ƒ + è¿è¡Œåœ¨å…¶ä¸­çš„åº”ç”¨ç¨‹åº</strong></td></tr><tr><td align="left">Docker å®¢æˆ·ç«¯ Client</td><td>å®¢æˆ·ç«¯é€šè¿‡å‘½ä»¤è¡Œæˆ–è€…å…¶ä»–å·¥å…·ä½¿ç”¨ Docker SDK (<a target="_blank" rel="noopener" href="https://docs.docker.com/develop/sdk/">docs.docker.com/develop/sdkâ€¦</a>) ä¸ Docker çš„å®ˆæŠ¤è¿›ç¨‹é€šä¿¡</td></tr><tr><td align="left">Docker ä¸»æœº Host</td><td>ä¸€ä¸ªç‰©ç†æˆ–è€…è™šæ‹Ÿçš„æœºå™¨ç”¨äºæ‰§è¡Œ Docker å®ˆæŠ¤è¿›ç¨‹å’Œå®¹å™¨</td></tr><tr><td align="left">Docker ä»“åº“ Repository</td><td>é›†ä¸­å­˜æ”¾é•œåƒæ–‡ä»¶çš„åœ°æ–¹ï¼Œåˆ†ä¸ºå…¬æœ‰ä»“åº“å’Œç§æœ‰ä»“åº“ã€‚</td></tr><tr><td align="left">Docker æ³¨å†ŒæœåŠ¡å™¨ Registry</td><td>æ˜¯ä¸€ä¸ªé›†ä¸­å­˜å‚¨ã€åˆ†å‘é•œåƒçš„æœåŠ¡ï¼Œå®˜æ–¹çš„å« <a target="_blank" rel="noopener" href="https://hub.docker.com/">Docker Hub</a>ã€‚ä¸€ä¸ª Docker Registry ä¸­å¯åŒ…å«å¤šä¸ªä»“åº“ï¼Œæ¯ä¸ªä»“åº“å¯ä»¥åŒ…å«å¤šä¸ªæ ‡ç­¾ Tag çš„é•œåƒï¼Œä¸åŒçš„æ ‡ç­¾å¯¹åº”ä¸åŒçš„ç‰ˆæœ¬</td></tr><tr><td align="left">Docker Machine</td><td>Docker Machine æ˜¯ä¸€ä¸ªç®€åŒ– Docker å®‰è£…çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œé€šè¿‡ä¸€ä¸ªç®€å•çš„å‘½ä»¤è¡Œå³å¯åœ¨ç›¸åº”çš„å¹³å°ä¸Šå®‰è£…Dockerï¼Œæ¯”å¦‚ VirtualBoxã€ Digital Oceanã€Microsoft Azure</td></tr></tbody></table><p>å®¹å™¨çš„ç”Ÿå‘½å‘¨æœŸå›¾ç¤º</p><p><img src="e1fcfb56ecc7472da5c3ef35657c4329tplv-k3u1fbpfcp-zoom-1.jpg"></p><p>å®¹å™¨çš„äº”ä¸ªæ ¸å¿ƒçŠ¶æ€ï¼Œä¹Ÿå°±æ˜¯å›¾ä¸­è‰²å—è¡¨ç¤ºçš„ï¼šCreatedã€Runningã€Pausedã€Stoppedã€Deletedï¼š</p><ol><li><strong>Created</strong>ï¼šå®¹å™¨å·²ç»è¢«åˆ›å»ºï¼Œå®¹å™¨æ‰€éœ€çš„ç›¸å…³èµ„æºå·²ç»å‡†å¤‡å°±ç»ªï¼Œä½†å®¹å™¨ä¸­çš„ç¨‹åºè¿˜æœªå¤„äºè¿è¡ŒçŠ¶æ€ã€‚</li><li><strong>Running</strong>ï¼šå®¹å™¨æ­£åœ¨è¿è¡Œï¼Œä¹Ÿå°±æ˜¯å®¹å™¨ä¸­çš„åº”ç”¨æ­£åœ¨è¿è¡Œã€‚</li><li><strong>Paused</strong>ï¼šå®¹å™¨å·²æš‚åœï¼Œè¡¨ç¤ºå®¹å™¨ä¸­çš„æ‰€æœ‰ç¨‹åºéƒ½å¤„äºæš‚åœ ä¸æ˜¯åœæ­¢ä¸æ˜¯åœæ­¢ çŠ¶æ€ã€‚</li><li><strong>Stopped</strong>ï¼šå®¹å™¨å¤„äºåœæ­¢çŠ¶æ€ï¼Œå ç”¨çš„èµ„æºå’Œæ²™ç›’ç¯å¢ƒéƒ½ä¾ç„¶å­˜åœ¨ï¼Œåªæ˜¯å®¹å™¨ä¸­çš„åº”ç”¨ç¨‹åºå‡å·²åœæ­¢ã€‚</li><li><strong>Deleted</strong>ï¼šå®¹å™¨å·²åˆ é™¤ï¼Œç›¸å…³å ç”¨çš„èµ„æºåŠå­˜å‚¨åœ¨ Docker ä¸­çš„ç®¡ç†ä¿¡æ¯ä¹Ÿéƒ½å·²é‡Šæ”¾å’Œç§»é™¤ã€‚</li></ol><p>æœ¬æ–‡ä¸»è¦å…³æ³¨äºä½¿ç”¨ï¼Œå°±ä¸å¤ªèµ˜è¿°è¿™äº›çŠ¶æ€çš„åˆ‡æ¢ç­‰ï¼Œä¸‹é¢ç›´æ¥ä¸Šæ‰‹ã€‚</p><h2 id="5-åŸºæœ¬ä½¿ç”¨"><a href="#5-åŸºæœ¬ä½¿ç”¨" class="headerlink" title="5. åŸºæœ¬ä½¿ç”¨"></a>5. åŸºæœ¬ä½¿ç”¨</h2><h3 id="5-1-æ“ä½œå‘½ä»¤"><a href="#5-1-æ“ä½œå‘½ä»¤" class="headerlink" title="5.1 æ“ä½œå‘½ä»¤"></a>5.1 æ“ä½œå‘½ä»¤</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¼€å¯ Docker å¼€æœºè‡ªå¯åŠ¨</span></span><br><span class="line">sudo systemctl <span class="built_in">enable</span> docker</span><br><span class="line"> </span><br><span class="line"><span class="comment"># å…³é—­ Docker å¼€æœºè‡ªå¯åŠ¨</span></span><br><span class="line">sudo systemctl <span class="built_in">disable</span> docker</span><br></pre></td></tr></table></figure><h3 id="5-2-é•œåƒå‘½ä»¤"><a href="#5-2-é•œåƒå‘½ä»¤" class="headerlink" title="5.2 é•œåƒå‘½ä»¤"></a>5.2 é•œåƒå‘½ä»¤</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å»ä¸‹è½½é•œåƒï¼Œå…ˆä»æœ¬åœ°æ‰¾ï¼Œæ²¡æœ‰å»é•œåƒï¼Œæœ€åæ²¡æœ‰å» hubï¼Œæ ‡ç­¾ä¸å†™é»˜è®¤ä¸º lastest</span></span><br><span class="line">docker pull [é•œåƒå]:[æ ‡ç­¾Tag]</span><br><span class="line"> </span><br><span class="line"><span class="comment"># åˆ—å‡ºæœ¬æœºçš„æ‰€æœ‰ image æ–‡ä»¶ï¼Œ-a æ˜¾ç¤ºæœ¬åœ°æ‰€æœ‰é•œåƒï¼ˆåŒ…æ‹¬ä¸­é—´é•œåƒï¼‰ï¼Œ-q åªæ˜¾ç¤ºé•œåƒIDï¼Œ--digests æ˜¾ç¤ºé•œåƒçš„æ‘˜è¦ä¿¡æ¯</span></span><br><span class="line">docker image ls</span><br><span class="line">docker images</span><br><span class="line"> </span><br><span class="line"><span class="comment"># åˆ é™¤ image æ–‡ä»¶, -f å¼ºåˆ¶åˆ é™¤é•œåƒ</span></span><br><span class="line">docker rmi [é•œåƒå][:æ ‡ç­¾Tag]</span><br><span class="line">docker rmi [é•œåƒå1][:æ ‡ç­¾Tag] [é•œåƒå2][:æ ‡ç­¾Tag]    <span class="comment"># åˆ å¤šä¸ª</span></span><br><span class="line">docker rmi $(docker ps -a -q)    <span class="comment"># åˆ å…¨éƒ¨ï¼Œåé¢æ˜¯å­å‘½ä»¤</span></span><br><span class="line"> </span><br><span class="line"><span class="comment"># æŸ¥è¯¢é•œåƒåç§°ï¼Œ--no-trunc æ˜¾ç¤ºå®Œæ•´çš„é•œåƒæè¿°ï¼Œ--filter=stars=30 åˆ—å‡ºstarä¸å°‘äºæŒ‡å®šå€¼çš„é•œåƒï¼Œ--filter=is-automated=true åˆ—å‡ºè‡ªåŠ¨æ„å»ºç±»å‹çš„é•œåƒ</span></span><br><span class="line">docker search [å…³é”®å­—]</span><br><span class="line"> </span><br><span class="line"><span class="comment"># ä¸‹è½½é•œåƒï¼Œæ ‡ç­¾ tag ä¸å†™é»˜è®¤ä¸º lastestï¼Œä¹Ÿå¯ä»¥è‡ªå·±åŠ æ¯”å¦‚ :3.2.0</span></span><br><span class="line">docker pull [é•œåƒå][:æ ‡ç­¾Tag]</span><br></pre></td></tr></table></figure><h3 id="5-3-å®¹å™¨å‘½ä»¤"><a href="#5-3-å®¹å™¨å‘½ä»¤" class="headerlink" title="5.3 å®¹å™¨å‘½ä»¤"></a>5.3 å®¹å™¨å‘½ä»¤</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ—å‡ºæœ¬æœºæ­£åœ¨è¿è¡Œçš„å®¹å™¨ï¼Œ-a åˆ—å‡ºæœ¬æœºæ‰€æœ‰å®¹å™¨åŒ…æ‹¬ç»ˆæ­¢è¿è¡Œçš„å®¹å™¨ï¼Œ-q é™é»˜æ¨¡å¼åªæ˜¾ç¤ºå®¹å™¨ç¼–å·ï¼Œ-l æ˜¾ç¤ºæœ€è¿‘åˆ›å»ºçš„å®¹å™¨</span></span><br><span class="line">docker container ls     <span class="comment"># ç­‰ä»·äºä¸‹é¢è¿™ä¸ªå‘½ä»¤</span></span><br><span class="line">docker ps</span><br><span class="line"> </span><br><span class="line"><span class="comment"># æ–°å»ºå¹¶å¯åŠ¨å®¹å™¨</span></span><br><span class="line">docker run [option] [å®¹å™¨å] </span><br><span class="line"> </span><br><span class="line"><span class="comment"># å¯åŠ¨å®¹å™¨</span></span><br><span class="line">docker start [å®¹å™¨ID]/[å®¹å™¨Names]</span><br><span class="line"> </span><br><span class="line"><span class="comment"># é‡å¯å®¹å™¨</span></span><br><span class="line">docker restart [å®¹å™¨ID]/[å®¹å™¨Names]</span><br><span class="line"> </span><br><span class="line"><span class="comment"># ç»ˆæ­¢å®¹å™¨è¿è¡Œ</span></span><br><span class="line">docker <span class="built_in">kill</span> [å®¹å™¨ID]  <span class="comment"># å¼ºè¡Œç»ˆæ­¢ï¼Œç›¸å½“äºå‘å®¹å™¨é‡Œé¢çš„ä¸»è¿›ç¨‹å‘å‡º SIGKILL ä¿¡å·ï¼Œé‚£äº›æ­£åœ¨è¿›è¡Œä¸­çš„æ“ä½œä¼šå…¨éƒ¨ä¸¢å¤±</span></span><br><span class="line">docker <span class="built_in">kill</span> $(docker ps -a -q) <span class="comment"># å¼ºè¡Œç»ˆæ­¢æ‰€æœ‰å®¹å™¨</span></span><br><span class="line">docker stop [å®¹å™¨ID]  <span class="comment"># ä»å®¹ç»ˆæ­¢ï¼Œç›¸å½“äºå‘å®¹å™¨é‡Œé¢çš„ä¸»è¿›ç¨‹å‘å‡º SIGTERM ä¿¡å·ï¼Œç„¶åè¿‡ä¸€æ®µæ—¶é—´å†å‘å‡º SIGKILL ä¿¡å·</span></span><br><span class="line">docker stop $(docker ps -a -q) <span class="comment"># ç»ˆæ­¢æ‰€æœ‰å®¹å™¨</span></span><br><span class="line"> </span><br><span class="line"><span class="comment"># ç»ˆæ­¢è¿è¡Œçš„å®¹å™¨æ–‡ä»¶ï¼Œä¾ç„¶ä¼šå æ®ç¡¬ç›˜ç©ºé—´ï¼Œå¯ä»¥ä½¿ç”¨ docker container rm å‘½ä»¤åˆ é™¤ï¼Œ-f å¼ºåˆ¶åˆ é™¤å¯ä»¥åˆ é™¤æ­£åœ¨è¿è¡Œçš„å®¹å™¨</span></span><br><span class="line">docker rm [å®¹å™¨ID]</span><br><span class="line">docker rm `docker ps -aq`    <span class="comment"># åˆ é™¤æ‰€æœ‰å·²ç»åœæ­¢çš„å®¹å™¨ï¼Œå› ä¸ºæ²¡åœæ­¢çš„rmåˆ ä¸äº†éœ€è¦åŠ -f</span></span><br><span class="line"> </span><br><span class="line"><span class="comment"># æŸ¥çœ‹å®¹å™¨çš„è¾“å‡ºï¼Œ-tåŠ å…¥æ—¶é—´æˆ³ï¼Œ-fè·Ÿéšæœ€æ–°æ—¥å¿—æ‰“å°ï¼Œ--tailæ•°å­—æ˜¾ç¤ºæœ€åå¤šå°‘æ¡ï¼Œå¦‚æœdocker runæ—¶ï¼Œæ²¡æœ‰ä½¿ç”¨-itï¼Œå°±è¦ç”¨è¿™ä¸ªå‘½ä»¤æŸ¥çœ‹è¾“å‡º</span></span><br><span class="line">docker logs [å®¹å™¨ID]</span><br><span class="line"> </span><br><span class="line"><span class="comment"># æŸ¥çœ‹å®¹å™¨è¿›ç¨‹ä¿¡æ¯</span></span><br><span class="line">docker top [å®¹å™¨ID]/[å®¹å™¨Names]</span><br><span class="line">docker port [å®¹å™¨ID]/[å®¹å™¨Names]</span><br><span class="line"> </span><br><span class="line"><span class="comment"># é€€å‡ºå®¹å™¨</span></span><br><span class="line"><span class="built_in">exit</span>           <span class="comment"># å®¹å™¨é€€å‡º</span></span><br><span class="line">ctrl + p + q     <span class="comment"># å®¹å™¨é€€å‡ºï¼Œå¿«æ·é”®</span></span><br><span class="line"> </span><br><span class="line"><span class="comment"># è¿›å…¥å®¹å™¨</span></span><br><span class="line">docker attach [å®¹å™¨ID]      <span class="comment"># é€€å‡ºå®¹å™¨æ—¶ä¼šè®©å®¹å™¨åœæ­¢ï¼Œæœ¬æœºçš„è¾“å…¥ç›´æ¥è¾“åˆ°å®¹å™¨ä¸­</span></span><br><span class="line">docker <span class="built_in">exec</span> -it [å®¹å™¨ID]    <span class="comment"># é€€å‡ºå®¹å™¨æ—¶ä¸ä¼šè®©å®¹å™¨åœæ­¢ï¼Œåœ¨å·²è¿è¡Œçš„å®¹å™¨ä¸­æ‰§è¡Œå‘½ä»¤ï¼Œä¸åˆ›å»ºå’Œå¯åŠ¨æ–°çš„å®¹å™¨</span></span><br><span class="line"> </span><br><span class="line"><span class="comment"># è®¾ç½®å®¹å™¨åœ¨dockerå¯åŠ¨æ—¶è‡ªåŠ¨å¯åŠ¨</span></span><br><span class="line">docker container update --restart=always [å®¹å™¨åå­—]</span><br></pre></td></tr></table></figure><p>è¿™é‡Œè¦ç‰¹åˆ«è¯´ä¸€ä¸‹ <code>docker run</code> çš„ <code>option</code>ï¼Œå› ä¸ºæœ€å¸¸ç”¨ï¼š</p><ol><li><code>--name</code> ä¸ºå®¹å™¨æŒ‡å®šä¸€ä¸ªåç§°ï¼›</li><li><code>-d</code> å®¹å™¨å¯åŠ¨åè¿›å…¥åå°ï¼Œå¹¶è¿”å›å®¹å™¨ IDï¼Œå³å¯åŠ¨å®ˆæŠ¤å¼å®¹å™¨ï¼›</li><li><code>-P</code> éšæœºç«¯å£æ˜ å°„ï¼›</li><li><code>-p 80:8080</code> å°†æœ¬åœ° 80 ç«¯å£æ˜ å°„åˆ°å®¹å™¨çš„ 8080 ç«¯å£ï¼›</li><li><code>bash</code> å®¹å™¨å¯åŠ¨ä»¥åï¼Œå†…éƒ¨ç¬¬ä¸€ä¸ªæ‰§è¡Œçš„å‘½ä»¤ã€‚è¿™é‡Œå¯åŠ¨ bashï¼Œä¿è¯ç”¨æˆ·å¯ä»¥ä½¿ç”¨ Shellï¼›</li><li><code>-i</code> ä»¥äº¤äº’æ¨¡å¼è¿è¡Œå®¹å™¨ï¼Œé€šå¸¸ä¸ <code>-t</code> åŒæ—¶ä½¿ç”¨ï¼›</li><li><code>-t</code> ä¸ºå®¹å™¨é‡æ–°åˆ†é…ä¸€ä¸ªä¼ªè¾“å…¥ç»ˆç«¯ï¼Œå®¹å™¨çš„ Shell ä¼šæ˜ å°„åˆ°å½“å‰çš„ Shellï¼Œç„¶ååœ¨æœ¬æœºçª—å£è¾“å…¥çš„å‘½ä»¤ï¼Œå°±ä¼šä¼ å…¥å®¹å™¨ï¼Œé€šå¸¸ä¸ <code>-i</code> åŒæ—¶ä½¿ç”¨ï¼›</li><li><code>--rm</code> åœ¨å®¹å™¨ç»ˆæ­¢è¿è¡Œåè‡ªåŠ¨åˆ é™¤å®¹å™¨æ–‡ä»¶ï¼›</li><li><code>--restart=always</code> è®¾ç½®å®¹å™¨è‡ªå¯åŠ¨ï¼›</li><li><code>-v /xxx:/yyy</code> æ˜ å°„å‘½ä»¤ï¼ŒæŠŠæœ¬æœºçš„ xxx ç›®å½•æ˜ å°„åˆ°å®¹å™¨ä¸­çš„ yyy ç›®å½•ï¼Œä¹Ÿå°±æ˜¯è¯´æ”¹å˜æœ¬æœºçš„ xxx ç›®å½•ä¸‹çš„å†…å®¹ï¼Œ å®¹å™¨ yyy ç›®å½•ä¸­çš„å†…å®¹ä¹Ÿä¼šæ”¹å˜ï¼›</li></ol><p>æ¯”å¦‚æˆ‘åœ¨ CentOS ä¸‹è·‘èµ·æ¥ä¸€ä¸ª CentOS çš„ Docker å®¹å™¨ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä¸‹è½½</span></span><br><span class="line">docker pull centos</span><br><span class="line"> </span><br><span class="line"><span class="comment"># åœ¨ä¸Šé¢ä¸‹è½½çš„ centos é•œåƒåŸºç¡€ä¸Šï¼Œæ–°å»ºä¸€ä¸ªå®¹å™¨åä¸º mycentos0901 çš„ centos å®ä¾‹ï¼Œå¹¶è¿›å…¥è¿™ä¸ªå®¹å™¨çš„ bash</span></span><br><span class="line">docker run -it --name mycentos0901 0d120b6ccaa8</span><br><span class="line"> </span><br><span class="line">[root@169c9fffeecd /]   <span class="comment"># è¿›å…¥å®¹å™¨ï¼Œä¸‹é¢è¾“å…¥å‘½ä»¤ï¼Œæ³¨æ„è¿™é‡Œ root åé¢çš„ä¸€ä¸² ID</span></span><br><span class="line">ls       <span class="comment"># å¯ä»¥çœ‹åˆ°centosçš„æ ¹ç›®å½•æ–‡ä»¶åˆ—è¡¨</span></span><br><span class="line">docker   <span class="comment"># bash: docker: command not found è¿™ä¸ªå®¹å™¨æ²¡æœ‰å®‰è£…docker</span></span><br></pre></td></tr></table></figure><p>æ˜¯ä¸æ˜¯å¾ˆç¥å¥‡ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¸€å¼€å§‹çš„ CentOS ä¸‹é¢æ‰§è¡Œ <code>docker ps</code> æ¥æŸ¥çœ‹å®¹å™¨åˆ—è¡¨ï¼š</p><p><img src="da7f84acfd0b498596bffe68016aa52ctplv-k3u1fbpfcp-zoom-1.jpg"></p><p>ä½ ä¼šå‘ç°ä¸Šé¢é‚£ä¸ª IDï¼Œæ­£æ˜¯ä¸‹é¢åˆ—è¡¨ä¸­è·‘èµ·æ¥çš„è¿™ä¸ªå®¹å™¨çš„ IDï¼Œé•œåƒçš„ ID ä¹Ÿæ˜¯æˆ‘ä»¬å‰é¢ <code>pull</code> ä¸‹æ¥çš„ CentOS é•œåƒ IDï¼Œåå­—ä¹Ÿæ˜¯æˆ‘ä»¬èµ·çš„ <code>mycentos0901</code>ã€‚</p><p>å¦‚æœ <code>docker run</code> ä¹‹åæŠ¥ <code>Conflict. The container name &quot;xxxx&quot; is already in use by container</code> å°±ç›´æ¥è¿è¡Œ <code>docker rm $(docker ps -a -q)</code> åˆ é™¤å·²åœæ­¢çš„å®¹å™¨ï¼Œæˆ–è€…ç²¾ç¡®åˆ é™¤ <code>docker rm [containerID]</code> ä¹Ÿå¯ä»¥ï¼Œå°±å¯ä»¥äº†ã€‚</p><h3 id="5-4-å‡ ä¸ªå¸¸è§åœºæ™¯çš„å‘½ä»¤ä½¿ç”¨"><a href="#5-4-å‡ ä¸ªå¸¸è§åœºæ™¯çš„å‘½ä»¤ä½¿ç”¨" class="headerlink" title="5.4 å‡ ä¸ªå¸¸è§åœºæ™¯çš„å‘½ä»¤ä½¿ç”¨"></a>5.4 å‡ ä¸ªå¸¸è§åœºæ™¯çš„å‘½ä»¤ä½¿ç”¨</h3><h4 id="å®ˆæŠ¤å¼å¯åŠ¨å®¹å™¨"><a href="#å®ˆæŠ¤å¼å¯åŠ¨å®¹å™¨" class="headerlink" title="å®ˆæŠ¤å¼å¯åŠ¨å®¹å™¨"></a>å®ˆæŠ¤å¼å¯åŠ¨å®¹å™¨</h4><p>ä½¿ç”¨ <code>centos</code> ä»¥åå°æ¨¡å¼å¯åŠ¨ä¸€ä¸ªå®¹å™¨ <code>docker run -d --name mycentos0903 0d120b6ccaa8</code>ï¼Œå¯åŠ¨ä¹‹å <code>docker ps -a</code> æŸ¥çœ‹ï¼Œå‘ç°å®¹å™¨å¹¶ä¸åœ¨è¿è¡Œä¸­ï¼Œè¿™æ˜¯å› ä¸º Docker çš„è¿è¡Œæœºåˆ¶ï¼š<strong>Docker å®¹å™¨åå°è¿è¡Œï¼Œå¿…é¡»æœ‰ä¸€ä¸ªå‰å°è¿›ç¨‹</strong>ã€‚</p><p>å®¹å™¨è¿è¡Œçš„å‘½ä»¤å¦‚æœä¸æ˜¯é‚£äº›ä¸€ç›´æŒ‚èµ·çš„å‘½ä»¤ï¼Œæ¯”å¦‚ <code>top</code>ã€<code>tail</code> ï¼Œè¿è¡Œç»“æŸä¼šè‡ªåŠ¨é€€å‡ºã€‚æ‰€ä»¥ä¸ºäº†è®©å®¹å™¨æŒç»­åœ¨åå°è¿è¡Œï¼Œé‚£ä¹ˆéœ€è¦å°†è¿è¡Œçš„ç¨‹åºä»¥å‰å°è¿›ç¨‹çš„å½¢å¼è¿è¡Œã€‚</p><p>æ¯”å¦‚è¿™é‡Œåœ¨åå°è¿è¡Œä¸€ä¸ªå‘½ä»¤ï¼Œè¿™ä¸ªå‘½ä»¤ä¸€ç›´åœ¨æ‰“å° <code>docker run -d centos /bin/sh -c &quot;while true; do echo hello zzyy; sleep 2; done&quot;</code>ï¼Œç„¶åæˆ‘ä»¬ <code>logs</code> æŸ¥çœ‹ä¸€ä¸‹ï¼š</p><p><img src="d34cc8a5aca14344aaca3d534b61ab76tplv-k3u1fbpfcp-zoom-1.jpg"></p><h4 id="é€€å‡ºå®¹å™¨åå¯¹å®¹å™¨æ“ä½œ"><a href="#é€€å‡ºå®¹å™¨åå¯¹å®¹å™¨æ“ä½œ" class="headerlink" title="é€€å‡ºå®¹å™¨åå¯¹å®¹å™¨æ“ä½œ"></a>é€€å‡ºå®¹å™¨åå¯¹å®¹å™¨æ“ä½œ</h4><p>é€€å‡ºå®¹å™¨åå¯ä»¥é€šè¿‡ <code>exec</code> æ–¹æ³•å¯¹æ­£åœ¨è¿è¡Œçš„å®¹å™¨è¿›è¡Œæ“ä½œï¼š</p><p><img src="9f407e78173b486b9767f30c03dfe1actplv-k3u1fbpfcp-zoom-1.jpg"></p><h4 id="åœ¨å®¹å™¨ä¸­æ‹·è´æ–‡ä»¶åˆ°å¤–éƒ¨"><a href="#åœ¨å®¹å™¨ä¸­æ‹·è´æ–‡ä»¶åˆ°å¤–éƒ¨" class="headerlink" title="åœ¨å®¹å™¨ä¸­æ‹·è´æ–‡ä»¶åˆ°å¤–éƒ¨"></a>åœ¨å®¹å™¨ä¸­æ‹·è´æ–‡ä»¶åˆ°å¤–éƒ¨</h4><p>æ‹·è´æ–‡ä»¶ä½¿ç”¨ <code>cp</code> å‘½ä»¤</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker cp [å®¹å™¨ID]/[å®¹å™¨Names]:[è¦æ‹·è´çš„æ–‡ä»¶ç›®å½•] [æœ¬æœºç›®å½•]   <span class="comment"># å®¹å™¨æ–‡ä»¶æ‹·è´åˆ°æœ¬æœº</span></span><br><span class="line">docker cp [æœ¬æœºç›®å½•] [å®¹å™¨ID]/[å®¹å™¨Names]:[è¦æ‹·è´çš„æ–‡ä»¶ç›®å½•]   <span class="comment"># æœ¬æœºæ–‡ä»¶æ‹·è´åˆ°å®¹å™¨</span></span><br></pre></td></tr></table></figure><p><code>cp</code> ä¸ä»…èƒ½æŠŠå®¹å™¨ä¸­çš„æ–‡ä»¶/æ–‡ä»¶å¤¹æ‹·è´åˆ°æœ¬æœºï¼Œä¹Ÿå¯ä»¥æŠŠæœ¬æœºä¸­çš„æ–‡ä»¶/æ–‡ä»¶å¤¹æ‹·è´åˆ°å®¹å™¨ã€‚</p><p>æ¼”ç¤ºä¸€ä¸‹ï¼Œè¿™é‡Œå…ˆåˆ°å®¹å™¨é‡Œé¢åˆ›å»ºä¸€ä¸ªæ— èŠçš„æ–‡ä»¶ <code>xixi.txt</code>ï¼Œç„¶åæ‹·è´åˆ°æœ¬æœºï¼š</p><p><img src="8ba43e85a4bd4cd5b3575487c6416d6btplv-k3u1fbpfcp-zoom-1.jpg"></p><p>å®ç”¨çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥æ‹·è´é…ç½®ã€æ—¥å¿—ç­‰æ–‡ä»¶åˆ°æœ¬åœ°ã€‚</p><h2 id="6-å®‰è£…-MySQL"><a href="#6-å®‰è£…-MySQL" class="headerlink" title="6. å®‰è£… MySQL"></a>6. å®‰è£… MySQL</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŸ¥è¯¢é•œåƒ</span></span><br><span class="line">docker search mysql</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¸‹è½½é•œåƒï¼Œå®æµ‹æ²¡é…ç½®é•œåƒåŠ é€Ÿçš„æ—¶å€™ä¼šæ¯”è¾ƒæ…¢ï¼Œé…ç½®äº†å°±å¥½ä¸€äº›</span></span><br><span class="line">docker pull mysql</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹é•œåƒ</span></span><br><span class="line">docker images</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºå¹¶è¿è¡Œå®¹å™¨</span></span><br><span class="line">docker run -d -p 3307:3306 -e MYSQL_ROOT_PASSWORD=888888 -v /Users/sherlocked93/Personal/configs/mysql.d:/etc/mysql/conf.d --name localhost-mysql mysql</span><br></pre></td></tr></table></figure><p>ç¨å¾®è§£é‡Šä¸€ä¸‹ä¸Šé¢çš„å‚æ•°ï¼š</p><ol><li><code>-p 3307:3306</code> å°†æœ¬æœºçš„ 3307 ç«¯å£æ˜ å°„åˆ° mysql å®¹å™¨çš„ 3306 ç«¯å£ï¼Œæ ¹æ®éœ€è¦è‡ªè¡Œæ›´æ”¹ï¼›</li><li><code>-e MYSQL_ROOT_PASSWORD=&lt;string&gt;</code> è®¾ç½®è¿œç¨‹ç™»å½•çš„ root ç”¨æˆ·å¯†ç ï¼›</li><li><code>--name &lt;string&gt;</code> å¯é€‰ï¼Œè®¾ç½®å®¹å™¨åˆ«åï¼›</li><li><code>-v xxx/mysql.d:/etc/mysql/conf.d</code> å°†æœ¬åœ°ç›®å½•ä¸‹è®¾ç½®æ–‡ä»¶å¤¹æ˜ å°„åˆ°å®¹å™¨çš„ <code>/etc/mysql/conf.d</code></li><li><code>-v xxx/logs:/logs</code> å°†æœ¬æœºæŒ‡å®šç›®å½•ä¸‹çš„ <code>logs</code> ç›®å½•æŒ‚è½½åˆ°å®¹å™¨çš„ <code>/logs</code></li><li><code>-v xxx/data:/var/lib/mysql</code> å°†ä¸»æœºåˆ¶å®šç›®å½•ä¸‹çš„ <code>data</code> ç›®å½•æŒ‚è½½åˆ°å®¹å™¨çš„ <code>/var/lib/mysql</code></li></ol><p>è¿è¡Œæˆªå›¾ï¼š</p><p><img src="f616290662af446a8fa44be91ca52732tplv-k3u1fbpfcp-zoom-1.jpg"></p><p>ç„¶åå» Navicat ä¸­å°±å¯ä»¥è¿æ¥åˆ° MySQL äº†ã€‚</p><p>è¿™ä¹Ÿå¤ªçˆ½äº†ï¼çœŸçš„æ˜¯å‡ è¡Œå‘½ä»¤å°±è£…å¥½äº†å•Šï¼Œæ¯”ä¹‹å‰çœŸæ˜¯å¿«ä¹å¤šäº† ğŸ˜‚</p><h2 id="7-å®‰è£…-Nginx"><a href="#7-å®‰è£…-Nginx" class="headerlink" title="7. å®‰è£… Nginx"></a>7. å®‰è£… Nginx</h2><p>Nginx çš„å®‰è£…å’Œå…¶ä»–çš„ç±»ä¼¼ï¼Œå¦‚æœä½ è¿˜ä¸å¤ªäº†è§£ Nginx å¦‚ä½•ä½¿ç”¨ï¼Œå¯ä»¥å‚çœ‹ è¿™ç¯‡æ–‡ç« ï¼Œçœ‹å®ŒåŸºæœ¬å°±äº†è§£å¦‚ä½•ä½¿ç”¨å’Œé…ç½®äº†ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŸ¥è¯¢/ä¸‹è½½é•œåƒ</span></span><br><span class="line">docker search nginx</span><br><span class="line">docker pull nginx</span><br></pre></td></tr></table></figure><img src="/2021/8/%E6%89%8B%E6%91%B8%E6%89%8B%E5%B8%A6%E4%BD%A0%20Docker%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E5%AE%9E%E8%B7%B5/e7763230c080498d96d5f012581b03cetplv-k3u1fbpfcp-zoom-1.jpg" class=""><p>ç„¶ååˆ›å»ºä¸€ä¸ªä¸´æ—¶çš„å®¹å™¨ï¼Œç›®çš„æ˜¯æŠŠé»˜è®¤é…ç½®æ‹·è´åˆ°æœ¬æœºï¼Œæˆ‘è¿™é‡ŒæŠŠé…ç½®æ–‡ä»¶æ”¾åˆ° <code>/mnt</code> ç›®å½•ä¸‹ï¼Œä¸»è¦æ˜¯ä¸‰ä¸ªé…ç½®æ–‡ä»¶å¤¹ï¼š</p><ol><li><code>/etc/nginx</code> æ”¾ç½® Nginx é…ç½®æ–‡ä»¶ï¼›</li><li><code>/var/log/nginx/</code> æ”¾ç½® Nginx æ—¥å¿—æ–‡ä»¶ï¼›</li><li><code>/usr/share/nginx/html/</code> æ”¾ç½® Nginx å‰ç«¯é™æ€æ–‡ä»¶éƒ½æ”¾åœ¨è¿™ä¸ªæ–‡ä»¶å¤¹ï¼›</li></ol><p>åˆ†åˆ«æŠŠè¿™å‡ ä¸ªç›®å½•éƒ½æ‹·è´åˆ°æœ¬æœºçš„ <code>/mnt</code> æ–‡ä»¶å¤¹ä¸‹çš„ <code>nginx</code>ã€<code>nginx_logs</code>ã€<code>html</code> æ–‡ä»¶å¤¹ã€‚</p><p>åˆšåˆšåˆ›å»ºçš„ä¸´æ—¶å®¹å™¨æ²¡ç”¨äº† <code>docker rm -f [ä¸´æ—¶å®¹å™¨ID]</code> æŠŠä¸´æ—¶å®¹å™¨å¹²æ‰ï¼Œç„¶å <code>docker run</code> é‡æ–°åˆ›å»º Nginx å®¹å™¨ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">docker run -d --name localhost-nginx -p 8082:80 \</span><br><span class="line">-v /mnt/nginx:/etc/nginx \</span><br><span class="line">-v /mnt/nginx_logs:/var/<span class="built_in">log</span>/nginx \</span><br><span class="line">-v /mnt/html:/usr/share/nginx/html \</span><br><span class="line">--privileged=<span class="literal">true</span> nginx</span><br></pre></td></tr></table></figure><p><code>--privileged=true</code> è¡¨ç¤ºå®¹å™¨å†…éƒ¨å¯¹æŒ‚è½½çš„ç›®å½•æ‹¥æœ‰è¯»å†™ç­‰ç‰¹æƒã€‚</p><p>å…¶ä»–é…ç½®åˆšåˆšä¸Šé¢ä¹‹å‰å·²ç»è®²è¿‡ï¼Œåº”è¯¥ä¸ç”¨è®²äº†ã€‚</p><p><img src="9d56d1c678ea4ddaae2df83ccda76072tplv-k3u1fbpfcp-zoom-1.jpg"></p><p>ç„¶ååœ¨ä½ è‡ªå·±æµè§ˆå™¨ä¸Šå°±å¯ä»¥è®¿é—®äº†ï¼Œå¦‚æœæ˜¯äº‘æœåŠ¡å™¨ï¼Œè®°å¾—å¼€æ”¾å¯¹åº”ç«¯å£ã€‚</p><h2 id="8-å®‰è£…-Easy-Mock"><a href="#8-å®‰è£…-Easy-Mock" class="headerlink" title="8. å®‰è£… Easy Mock"></a>8. å®‰è£… Easy Mock</h2><p>å› ä¸º Easy Mock ä¾èµ– Redis å’Œ MongoDBï¼Œå› æ­¤æœ¬åœ°ç¯å¢ƒä½¿ç”¨ docker-compose æ¥æ­å»º Easy Mock åº”è¯¥ç®—æ˜¯æœ€ä½³å®è·µäº†ã€‚</p><h3 id="å®‰è£…-docker-compose"><a href="#å®‰è£…-docker-compose" class="headerlink" title="å®‰è£… docker-compose"></a>å®‰è£… docker-compose</h3><blockquote><p>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://link.zhihu.com/?target=https://docs.docker.com/compose/install/">docs.docker.com/compose/insâ€¦</a></p></blockquote><p>é¦–å…ˆä½ å¾—ç¡®å®šæ‹¥æœ‰ docker ç¯å¢ƒï¼Œå¦‚æœä½ æ˜¯ Windows / Mac ç”¨æˆ·ï¼Œé‚£ä¹ˆå®‰è£…å®¢æˆ·ç«¯ï¼Œå°±ä¼šè‡ªå¸¦ docker-compose äº†ã€‚</p><p>å› ä¸ºæœ¬æ¬¡æˆ‘ä»¬æ˜¯åœ¨äº‘æœåŠ¡å™¨ CentOS7.6 ä¸Šæ­å»ºï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦è‡ªè¡Œå®‰è£… docker-composeï¼Œè¿è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œä¸‹è½½å½“å‰ç¨³å®šç‰ˆæœ¬çš„ docker-compose</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo curl -L <span class="string">&quot;https://github.com/docker/compose/releases/download/1.24.1/docker-compose-<span class="subst">$(uname -s)</span>-<span class="subst">$(uname -m)</span>&quot;</span> -o /usr/<span class="built_in">local</span>/bin/docker-compose</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹æ–‡ä»¶æƒé™ä¸ºå¯æ‰§è¡Œæ–‡ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo chmod +x /usr/<span class="built_in">local</span>/bin/docker-compose</span><br></pre></td></tr></table></figure><p>éªŒè¯æ˜¯å¦å®‰è£…æˆåŠŸ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker-compose version</span><br></pre></td></tr></table></figure><h3 id="ç¼–å†™-docker-compose-yml-é…ç½®æ–‡ä»¶"><a href="#ç¼–å†™-docker-compose-yml-é…ç½®æ–‡ä»¶" class="headerlink" title="ç¼–å†™ docker-compose.yml é…ç½®æ–‡ä»¶"></a>ç¼–å†™ docker-compose.yml é…ç½®æ–‡ä»¶</h3><p>å¯ä»¥å‚è€ƒ<a target="_blank" rel="noopener" href="https://github.com/easy-mock/easy-mock-docker">å®˜æ–¹æ–‡æ¡£</a>ç»™å‡ºçš„éƒ¨ç½²æ–‡æ¡£ï¼Œä¹Ÿå¯ä»¥å‚è€ƒæˆ‘ä¸‹é¢çš„é…ç½®è¿‡ç¨‹ã€‚</p><p>é¦–å…ˆæ–°å»ºæ–‡ä»¶ <code>docker-compose.yml</code> å¹¶å°†ä¸‹é¢ docker-compose æ–‡ä»¶å†…å®¹å¤åˆ¶è¿›å…¥ <code>docker-compose.yml</code>ï¼Œç„¶åå°†å†…å®¹ä¸­æ³¨é‡Šä½ç½®æ›¿æ¢ä¸ºè‡ªå·±éœ€è¦çš„æœ¬åœ°åœ°å€</p><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">version: <span class="string">&#x27;3&#x27;</span></span><br><span class="line"> </span><br><span class="line">services:</span><br><span class="line">  mongodb:</span><br><span class="line">    image: mongo:<span class="number">3.4</span>.<span class="number">1</span></span><br><span class="line">    volumes:</span><br><span class="line">      <span class="comment">#  /apps/easy-mock/data/db æ˜¯æ•°æ®åº“æ–‡ä»¶å­˜æ”¾åœ°å€ï¼Œæ ¹æ®éœ€è¦ä¿®æ”¹ä¸ºæœ¬åœ°åœ°å€</span></span><br><span class="line">      - <span class="string">&#x27;/apps/easy-mock/data/db:/data/db&#x27;</span></span><br><span class="line">    networks:</span><br><span class="line">      - easy-mock</span><br><span class="line">    restart: always</span><br><span class="line"> </span><br><span class="line">  redis:</span><br><span class="line">    image: redis:<span class="number">4.0</span>.<span class="number">6</span></span><br><span class="line">    command: redis-server --appendonly yes</span><br><span class="line">    volumes:</span><br><span class="line">      <span class="comment">#  /apps/easy-mock/data/redis æ˜¯ redis æ•°æ®æ–‡ä»¶å­˜æ”¾åœ°å€ï¼Œæ ¹æ®éœ€è¦ä¿®æ”¹ä¸ºæœ¬åœ°åœ°å€</span></span><br><span class="line">      - <span class="string">&#x27;/apps/easy-mock/data/redis:/data&#x27;</span></span><br><span class="line">    networks:</span><br><span class="line">      - easy-mock</span><br><span class="line">    restart: always</span><br><span class="line"> </span><br><span class="line">  web:</span><br><span class="line">    image: easymock/easymock:<span class="number">1.6</span>.<span class="number">0</span></span><br><span class="line">    <span class="comment"># easy-mock å®˜æ–¹ç»™å‡ºçš„æ–‡ä»¶ï¼Œè¿™é‡Œæ˜¯ npm startï¼Œè¿™é‡Œä¿®æ”¹ä¸º npm run dev</span></span><br><span class="line">    command: /bin/bash -c <span class="string">&quot;npm run dev:server&quot;</span></span><br><span class="line">    ports:</span><br><span class="line">      - <span class="number">7300</span>:<span class="number">7300</span>  <span class="comment"># æ”¹ä¸ºä½ è‡ªå·±æœŸæœ›çš„æ˜ å°„</span></span><br><span class="line">    volumes:</span><br><span class="line">      <span class="comment"># æ—¥å¿—åœ°å€ï¼Œæ ¹æ®éœ€è¦ä¿®æ”¹ä¸ºæœ¬åœ°åœ°å€</span></span><br><span class="line">      - <span class="string">&#x27;/apps/easy-mock/logs:/home/easy-mock/easy-mock/logs&#x27;</span></span><br><span class="line">    networks:</span><br><span class="line">      - easy-mock</span><br><span class="line">    restart: always</span><br><span class="line"> </span><br><span class="line">networks:</span><br><span class="line">  easy-mock:</span><br></pre></td></tr></table></figure><h3 id="å¯åŠ¨-Easy-Mock"><a href="#å¯åŠ¨-Easy-Mock" class="headerlink" title="å¯åŠ¨ Easy Mock"></a>å¯åŠ¨ Easy Mock</h3><p>åœ¨ docker-compose æ–‡ä»¶ç›®å½•ä¸‹ï¼Œè¿è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker-compose up -d</span><br></pre></td></tr></table></figure><p>å¦‚æœé‡åˆ° easymock docker å®ä¾‹æŠ¥æ–‡ä»¶æƒé™é”™è¯¯</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Error: EACCES: permission denied....</span><br></pre></td></tr></table></figure><p>è¦åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œä»¥ä¸‹å‘½ä»¤</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod 777 /yourfile/logs</span><br></pre></td></tr></table></figure><p>ç„¶åå°±å¯ä»¥é€šè¿‡æµè§ˆå™¨ä¸Šçš„ <code>ä½ çš„åŸŸå.com:7300</code> è®¿é—®åˆ° easy-mock äº†ï¼</p><p>å¦‚æœä½ è§‰å¾—åŸŸååé¢è·Ÿç€ç«¯å£å·æŒºéš¾çœ‹çš„ï¼Œä½ å¯ä»¥é€šè¿‡é…ç½® Nginx çš„äºŒçº§åŸŸåæ¥è®¿é—®ä½ éƒ¨ç½²çš„ easy-mockï¼Œé…ç½®äºŒçº§åŸŸåçš„æ–¹æ³•å‚è§ <a target="_blank" rel="noopener" href="https://juejin.im/post/6844904144235413512#heading-16">è¿™ç¯‡æ–‡ç« </a></p><h2 id="9-å¯è§†åŒ–ç®¡ç†"><a href="#9-å¯è§†åŒ–ç®¡ç†" class="headerlink" title="9. å¯è§†åŒ–ç®¡ç†"></a>9. å¯è§†åŒ–ç®¡ç†</h2><p>å…³äºå¯è§†åŒ–æŸ¥è¯¢å·¥å…·ï¼Œè¿™é‡Œå°±ç®€å•æ¨ä»‹ä¸€ä¸ª <a target="_blank" rel="noopener" href="https://github.com/jesseduffield/lazydocker">LazyDocker</a>ï¼Œç”±äºæ˜¯åœ¨ç»ˆç«¯è¿è¡Œçš„ï¼Œè€Œä¸”æ”¯æŒé”®ç›˜æ“ä½œå’Œé¼ æ ‡ç‚¹å‡»ï¼Œå°±æŒºéªšæ°”çš„ï¼Œæœ‰äº†è¿™ä¸ªä¸€äº›æŸ¥è¯¢è¯­å¥å¯ä»¥å°‘æ‰“å‡ æ¬¡äº†ã€‚</p><p>![lzd](/æ‰‹æ‘¸æ‰‹å¸¦ä½  Dockerä»å…¥é—¨åˆ°å®è·µ/520a02d65a9e4ca999013faba0241f7etplv-k3u1fbpfcp-zoom-1.image#vwid=1706&amp;vhei=960)</p><p>å®‰è£…æ¯”è¾ƒç®€å•ï¼Œè¿è¡Œä¸‹é¢çš„å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">docker run --rm -it -v \</span><br><span class="line">/var/run/docker.sock:/var/run/docker.sock \</span><br><span class="line">-v ~/.config/lazydocker:/.config/jesseduffield/lazydocker \</span><br><span class="line">lazyteam/lazydocker</span><br></pre></td></tr></table></figure><p>å¯ä»¥è®¾ç½®ä¸€ä¸ªç»ˆç«¯çš„ alias</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">alias</span> lzd=<span class="string">&#x27;docker run --rm -it -v /var/run/docker.sock:/var/run/docker.sock -v ~/.config/lazydocker:/.config/jesseduffield/lazydocker lazyteam/lazydocker&#x27;</span></span><br></pre></td></tr></table></figure><p>ç„¶åä½ åœ¨ç»ˆç«¯è¾“å…¥ <code>lzd</code> å°±å¯ä»¥æµè§ˆä½ çš„é•œåƒã€å®¹å™¨ã€æ—¥å¿—ã€é…ç½®ã€çŠ¶æ€ç­‰ç­‰å†…å®¹äº†ã€‚</p><h2 id="10-ç»“è¯­"><a href="#10-ç»“è¯­" class="headerlink" title="10. ç»“è¯­"></a>10. ç»“è¯­</h2><p>ç”±äºåœ¨ä¸‹ç›®å‰ä½¿ç”¨ Docker çš„ä¸»è¦åœºæ™¯æ˜¯ MySQLã€Nginx ä¹‹ç±»å·¥å…·çš„å®‰è£…ï¼Œæ‰€ä»¥æœ¬æ–‡æ‰€ä»‹ç»çš„å†…å®¹ä¹Ÿå¤§å¤šå±äºè¿™ä¸ªåœºæ™¯ã€‚</p><p>ç¯‡å¹…åŸå›  Docker è¿˜æœ‰ä¸€äº›å†…å®¹æœ¬æ–‡æ²¡æœ‰ä»‹ç»ï¼Œä½†ä¸Šé¢çš„å†…å®¹å·²åŸºæœ¬æ»¡è¶³æ—¥å¸¸çš„ä½¿ç”¨ï¼Œå…¶ä»– Docker çš„å†…å®¹å¯ä»¥å…³æ³¨ä¸€ä¸‹åœ¨ä¸‹çš„åç»­æ–‡ç« ï½</p><hr><p>ç½‘ä¸Šçš„å¸–å­å¤§å¤šæ·±æµ…ä¸ä¸€ï¼Œç”šè‡³æœ‰äº›å‰åçŸ›ç›¾ï¼Œåœ¨ä¸‹çš„æ–‡ç« éƒ½æ˜¯å­¦ä¹ è¿‡ç¨‹ä¸­çš„æ€»ç»“ï¼Œå¦‚æœå‘ç°é”™è¯¯ï¼Œæ¬¢è¿ç•™è¨€æŒ‡å‡º~</p><blockquote><p>å‚è€ƒæ–‡æ¡£ï¼š</p><ol><li><a target="_blank" rel="noopener" href="https://www.docker.com/">Empowering App Development for Developers | Docker å®˜æ–¹ç½‘ç«™</a></li><li><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1Vs411E7AR">Dockeræ ¸å¿ƒæŠ€æœ¯ï¼ˆåŸºç¡€ç¯‡ï¼‰</a></li><li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/zhi-leaf/p/10561766.html">Dockerå®‰è£…mysql</a></li><li><a target="_blank" rel="noopener" href="https://docs.docker.com/engine/reference/run/">Dockeræ–‡æ¡£</a></li><li><a target="_blank" rel="noopener" href="https://docs.docker.com/compose/reference/overview/">Docker-composeæ–‡æ¡£</a></li><li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/91646508">ä½¿ç”¨ docker è¿è¡Œ easy-mock - çŸ¥ä¹</a></li><li><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/cdadbe2ade44">docker-compose easy-mock - ç®€ä¹¦</a></li><li><a target="_blank" rel="noopener" href="https://xkcoding.com/2019/10/08/docker-easy-mock.html">ä½¿ç”¨ docker è¿è¡Œ easy-mock | CodingDiary</a></li><li><a target="_blank" rel="noopener" href="https://github.com/easy-mock/easy-mock-docker">easymockå®˜æ–¹dockerä»“åº“ï¼šeasy-mock/easy-mock-docker</a></li><li><a target="_blank" rel="noopener" href="https://juejin.im/post/6844904016086827016">ä½¿ç”¨dockerå®‰è£…nginx</a></li></ol></blockquote><p>ä½œè€…å…¶ä»–é«˜èµæ–‡ç« ï¼š</p><blockquote><ol><li><a target="_blank" rel="noopener" href="https://juejin.im/post/6844903641468403726">JS ä¸­å¯ä»¥æå‡å¹¸ç¦åº¦çš„å°æŠ€å·§</a></li><li><a target="_blank" rel="noopener" href="https://juejin.im/post/6844903598409646088">Vue ä½¿ç”¨ä¸­çš„å°æŠ€å·§</a></li><li><a target="_blank" rel="noopener" href="https://juejin.im/post/6844904144235413512">Nginx ä»å…¥é—¨åˆ°å®è·µï¼Œä¸‡å­—è¯¦è§£ï¼</a></li><li><a target="_blank" rel="noopener" href="https://juejin.im/post/6844904080972709901">åŠå°æ—¶æä¼š CentOS å…¥é—¨å¿…å¤‡åŸºç¡€çŸ¥è¯†</a></li><li><a target="_blank" rel="noopener" href="https://juejin.im/post/6844903939289120782">æ‰‹æ‘¸æ‰‹ Webpack å¤šå…¥å£é…ç½®å®è·µ</a></li><li><a target="_blank" rel="noopener" href="https://juejin.im/post/6844903773219848206">å‰ç«¯è·¯ç”±è·³è½¬åŸºæœ¬åŸç†</a></li></ol></blockquote><p>PSï¼šæœ¬æ–‡æ”¶å½•åœ¨æˆ‘çš„åšå®¢ï¼Œåœ°å€ <a target="_blank" rel="noopener" href="https://github.com/SHERlocked93/blog">Github - SHERlocked93/blog</a>ï¼Œä¹Ÿæ¬¢è¿å¤§å®¶å…³æ³¨æˆ‘çš„å…¬ä¼—å·ã€å‰ç«¯ä¸‹åˆèŒ¶ã€‘ï¼Œä¸€èµ·åŠ æ²¹å§ã€‚ å¦‚æœä½ æ„Ÿè§‰æ–‡ç« ä¸é”™çš„è¯ï¼Œä¹Ÿåˆ«å¿˜äº†ç»™ä½œè€…ç‚¹èµæ”¯æŒä¸€ä¸‹ï½</p></article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/linux/">linux</a><a class="post-meta__tags" href="/tags/docker/">docker</a></div><div class="post_share"></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png" onerror='this.onerror=null,this.src="/img/friend_404.gif"' alt="avatar"></div><div class="author-info__name">é»‘éº‹é¹¿</div><div class="author-info__description">æŠ˜è…¾ä¹‹è·¯</div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">71</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">54</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">15</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/sirliu"><i class="fab fa-github"></i><span>Github</span></a></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>ç›®å½•</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%89%8B%E6%91%B8%E6%89%8B%E5%B8%A6%E4%BD%A0-Docker-%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E5%AE%9E%E8%B7%B5"><span class="toc-number">1.</span> <span class="toc-text">æ‰‹æ‘¸æ‰‹å¸¦ä½  Docker ä»å…¥é—¨åˆ°å®è·µ</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.1.</span> <span class="toc-text">1. ä»‹ç»</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-%E5%87%BA%E7%8E%B0%E7%9A%84%E5%8E%9F%E5%9B%A0"><span class="toc-number">1.1.1.</span> <span class="toc-text">1.1 å‡ºç°çš„åŸå› </span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-%E6%98%AF%E4%BB%80%E4%B9%88"><span class="toc-number">1.1.2.</span> <span class="toc-text">1.2 æ˜¯ä»€ä¹ˆ</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E5%AE%89%E8%A3%85-amp-%E9%85%8D%E7%BD%AE"><span class="toc-number">1.2.</span> <span class="toc-text">2. å®‰è£… &amp; é…ç½®</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-Mac-%E4%B8%8B%E5%AE%89%E8%A3%85"><span class="toc-number">1.2.1.</span> <span class="toc-text">2.1 Mac ä¸‹å®‰è£…</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-CentOS-%E4%B8%8B%E5%AE%89%E8%A3%85"><span class="toc-number">1.2.2.</span> <span class="toc-text">2.2 CentOS ä¸‹å®‰è£…</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E7%AE%80%E5%8D%95%E9%85%8D%E7%BD%AE%E5%B9%B6%E8%B7%91%E8%B5%B7%E6%9D%A5"><span class="toc-number">1.3.</span> <span class="toc-text">3. ç®€å•é…ç½®å¹¶è·‘èµ·æ¥</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-%E9%85%8D%E7%BD%AE%E9%95%9C%E5%83%8F%E5%8A%A0%E9%80%9F"><span class="toc-number">1.3.1.</span> <span class="toc-text">3.1 é…ç½®é•œåƒåŠ é€Ÿ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-Hello-World-%EF%BC%81"><span class="toc-number">1.3.2.</span> <span class="toc-text">3.2 Hello World ï¼</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E9%95%9C%E5%83%8F-amp-%E5%AE%B9%E5%99%A8-amp-%E4%BB%93%E5%BA%93"><span class="toc-number">1.4.</span> <span class="toc-text">4. é•œåƒ &amp; å®¹å™¨ &amp; ä»“åº“</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-number">1.5.</span> <span class="toc-text">5. åŸºæœ¬ä½¿ç”¨</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-%E6%93%8D%E4%BD%9C%E5%91%BD%E4%BB%A4"><span class="toc-number">1.5.1.</span> <span class="toc-text">5.1 æ“ä½œå‘½ä»¤</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-%E9%95%9C%E5%83%8F%E5%91%BD%E4%BB%A4"><span class="toc-number">1.5.2.</span> <span class="toc-text">5.2 é•œåƒå‘½ä»¤</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-%E5%AE%B9%E5%99%A8%E5%91%BD%E4%BB%A4"><span class="toc-number">1.5.3.</span> <span class="toc-text">5.3 å®¹å™¨å‘½ä»¤</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-4-%E5%87%A0%E4%B8%AA%E5%B8%B8%E8%A7%81%E5%9C%BA%E6%99%AF%E7%9A%84%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8"><span class="toc-number">1.5.4.</span> <span class="toc-text">5.4 å‡ ä¸ªå¸¸è§åœºæ™¯çš„å‘½ä»¤ä½¿ç”¨</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%88%E6%8A%A4%E5%BC%8F%E5%90%AF%E5%8A%A8%E5%AE%B9%E5%99%A8"><span class="toc-number">1.5.4.1.</span> <span class="toc-text">å®ˆæŠ¤å¼å¯åŠ¨å®¹å™¨</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%80%E5%87%BA%E5%AE%B9%E5%99%A8%E5%90%8E%E5%AF%B9%E5%AE%B9%E5%99%A8%E6%93%8D%E4%BD%9C"><span class="toc-number">1.5.4.2.</span> <span class="toc-text">é€€å‡ºå®¹å™¨åå¯¹å®¹å™¨æ“ä½œ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9C%A8%E5%AE%B9%E5%99%A8%E4%B8%AD%E6%8B%B7%E8%B4%9D%E6%96%87%E4%BB%B6%E5%88%B0%E5%A4%96%E9%83%A8"><span class="toc-number">1.5.4.3.</span> <span class="toc-text">åœ¨å®¹å™¨ä¸­æ‹·è´æ–‡ä»¶åˆ°å¤–éƒ¨</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-%E5%AE%89%E8%A3%85-MySQL"><span class="toc-number">1.6.</span> <span class="toc-text">6. å®‰è£… MySQL</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-%E5%AE%89%E8%A3%85-Nginx"><span class="toc-number">1.7.</span> <span class="toc-text">7. å®‰è£… Nginx</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-%E5%AE%89%E8%A3%85-Easy-Mock"><span class="toc-number">1.8.</span> <span class="toc-text">8. å®‰è£… Easy Mock</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85-docker-compose"><span class="toc-number">1.8.1.</span> <span class="toc-text">å®‰è£… docker-compose</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BC%96%E5%86%99-docker-compose-yml-%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-number">1.8.2.</span> <span class="toc-text">ç¼–å†™ docker-compose.yml é…ç½®æ–‡ä»¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%AF%E5%8A%A8-Easy-Mock"><span class="toc-number">1.8.3.</span> <span class="toc-text">å¯åŠ¨ Easy Mock</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-%E5%8F%AF%E8%A7%86%E5%8C%96%E7%AE%A1%E7%90%86"><span class="toc-number">1.9.</span> <span class="toc-text">9. å¯è§†åŒ–ç®¡ç†</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-%E7%BB%93%E8%AF%AD"><span class="toc-number">1.10.</span> <span class="toc-text">10. ç»“è¯­</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>æœ€æ–°æ–‡ç« </span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2021/8/Hugo%E6%BC%82%E4%BA%AE%E4%B8%BB%E9%A2%98/" title="Hugoæ¼‚äº®ä¸»é¢˜">Hugoæ¼‚äº®ä¸»é¢˜</a><time datetime="2021-08-21T07:28:13.000Z" title="å‘è¡¨äº 2021-08-21 15:28:13">2021-08-21</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2021/8/vscode-hexo-utils%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/" title="vscode-hexo-utilsä½¿ç”¨æ•™ç¨‹">vscode-hexo-utilsä½¿ç”¨æ•™ç¨‹</a><time datetime="2021-08-20T15:27:21.000Z" title="å‘è¡¨äº 2021-08-20 23:27:21">2021-08-20</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2021/8/VSCODE%E5%86%99HEXO%E5%8D%9A%E5%AE%A2%E6%97%B6%E8%87%AA%E5%8A%A8%E6%8F%92%E5%85%A5FrontMatter%E7%9A%84%E5%AE%9E%E7%8E%B0/" title="VSCODEå†™HEXOåšå®¢æ—¶è‡ªåŠ¨æ’å…¥FrontMatterçš„å®ç°">VSCODEå†™HEXOåšå®¢æ—¶è‡ªåŠ¨æ’å…¥FrontMatterçš„å®ç°</a><time datetime="2021-08-20T04:39:57.000Z" title="å‘è¡¨äº 2021-08-20 12:39:57">2021-08-20</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2021/8/%E8%83%8C%E6%99%AF%E5%9B%BE%E5%9C%B0%E5%9D%80%E5%A4%87%E4%BB%BD/" title="èƒŒæ™¯å›¾åœ°å€å¤‡ä»½">èƒŒæ™¯å›¾åœ°å€å¤‡ä»½</a><time datetime="2021-08-19T09:18:00.000Z" title="å‘è¡¨äº 2021-08-19 17:18:00">2021-08-19</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2021/8/MongoDB%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%A4%87%E4%BB%BD%E5%92%8C%E6%81%A2%E5%A4%8D/" title="MongoDBæ•°æ®åº“çš„å¤‡ä»½å’Œæ¢å¤">MongoDBæ•°æ®åº“çš„å¤‡ä»½å’Œæ¢å¤</a><time datetime="2021-08-17T10:19:11.000Z" title="å‘è¡¨äº 2021-08-17 18:19:11">2021-08-17</time></div></div></div></div></div></div></main><footer id="footer" style="background:#227a7a"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2021 By é»‘éº‹é¹¿</div><div class="framework-info"><span>æ¡†æ¶ </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>ä¸»é¢˜ </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="é˜…è¯»æ¨¡å¼"><i class="fas fa-book-open"></i></button><button id="font-plus" type="button" title="æ”¾å¤§å­—ä½“"><i class="fas fa-plus"></i></button><button id="font-minus" type="button" title="ç¼©å°å­—ä½“"><i class="fas fa-minus"></i></button><button id="translateLink" type="button" title="ç®€ç¹è½¬æ¢">ç®€</button><button id="darkmode" type="button" title="æµ…è‰²å’Œæ·±è‰²æ¨¡å¼è½¬æ¢"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="å•æ å’ŒåŒæ åˆ‡æ¢"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="è®¾ç½®"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="ç›®å½•"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">æœ¬åœ°æœç´¢</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="æœç´¢æ–‡ç« " type="text"></div></div></div><hr><div id="local-search-results"></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script>function panguFn(){"object"==typeof pangu?pangu.autoSpacingPage():getScript("https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js").then(()=>{pangu.autoSpacingPage()})}function panguInit(){panguFn()}document.addEventListener("DOMContentLoaded",panguInit)</script><script src="/js/search/local-search.js"></script><div class="js-pjax"></div><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zindex="-1" mobile="false" data-click="true"></script><script id="click-show-text" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/click-show-text.min.js" data-mobile="true" data-text="å¯Œå¼º,æ°‘ä¸»,æ–‡æ˜,å’Œè°,è‡ªç”±,å¹³ç­‰,å…¬æ­£,æ³•æ²»,çˆ±å›½,æ•¬ä¸š,è¯šä¿¡,å‹å–„" data-fontsize="15px" data-random="true" async="async"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors=["title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"];var pjax=new Pjax({elements:'a:not([target="_blank"])',selectors:pjaxSelectors,cacheBust:!1,analytics:!1,scrollRestoration:!1});document.addEventListener("pjax:send",function(){if(window.removeEventListener("scroll",window.tocScrollFn),window.removeEventListener("scroll",scrollCollect),"object"==typeof preloader&&preloader.initLoading(),window.aplayers)for(let e=0;e<window.aplayers.length;e++)window.aplayers[e].options.fixed||window.aplayers[e].destroy();"object"==typeof typed&&typed.destroy();const e=document.body.classList;e.contains("read-mode")&&e.remove("read-mode")}),document.addEventListener("pjax:complete",function(){window.refreshFn(),document.querySelectorAll("script[data-pjax]").forEach(e=>{const t=document.createElement("script");var o=e.text||e.textContent||e.innerHTML||"";Array.from(e.attributes).forEach(e=>t.setAttribute(e.name,e.value)),t.appendChild(document.createTextNode(o)),e.parentNode.replaceChild(t,e)}),GLOBAL_CONFIG.islazyload&&window.lazyLoadInstance.update(),"function"==typeof chatBtnFn&&chatBtnFn(),"function"==typeof panguInit&&panguInit(),"function"==typeof gtag&&gtag("config","",{page_path:window.location.pathname}),"object"==typeof _hmt&&_hmt.push(["_trackPageview",window.location.pathname]),"function"==typeof loadMeting&&document.getElementsByClassName("aplayer").length&&loadMeting(),"object"==typeof Prism&&Prism.highlightAll(),"object"==typeof preloader&&preloader.endLoading()}),document.addEventListener("pjax:error",e=>{404===e.request.status&&pjax.loadUrl("/404.html")})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>